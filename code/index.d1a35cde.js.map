{"version":3,"file":"index.d1a35cde.js","sources":["../../vite/modulepreload-polyfill","../../node_modules/@lit/reactive-element/css-tag.js","../../node_modules/@lit/reactive-element/reactive-element.js","../../node_modules/lit-html/lit-html.js","../../node_modules/lit/node_modules/lit-element/lit-element.js","../../node_modules/@lit/reactive-element/decorators/custom-element.js","../../node_modules/@lit/reactive-element/decorators/property.js","../../node_modules/@lit/reactive-element/decorators/base.js","../../node_modules/@lit/reactive-element/decorators/query.js","../../node_modules/@lit/reactive-element/decorators/query-assigned-elements.js","../../node_modules/@vaadin/router/dist/vaadin-router.js","../../node_modules/workbox-window/build/workbox-window.prod.es5.mjs","../../../../../../../@vite-plugin-pwa/virtual:pwa-register","../../node_modules/idb/build/wrap-idb-value.js","../../node_modules/idb/build/index.js","../../src/script/timer-service.ts","../../src/script/pages/app-home.ts","../../src/script/timer.ts","../../src/script/timer-state.ts","../../src/script/components/active-timer.ts","../../src/script/components/counter.ts","../../src/script/components/header.ts","../../src/script/components/icons/icon-back.ts","../../src/script/components/icons/icon-forward.ts","../../src/script/components/icons/icon-navigation.ts","../../src/script/components/icons/icon-pause.ts","../../src/script/components/icons/icon-play.ts","../../node_modules/@fluentui/svg-icons/icons/add_20_regular.svg","../../src/script/select-timer-event.ts","../../src/script/components/sidebar.ts","../../src/script/components/timer-form.ts","../../src/app-index.ts"],"sourcesContent":["const p = function polyfill() {\n    const relList = document.createElement('link').relList;\n    if (relList && relList.supports && relList.supports('modulepreload')) {\n        return;\n    }\n    for (const link of document.querySelectorAll('link[rel=\"modulepreload\"]')) {\n        processPreload(link);\n    }\n    new MutationObserver((mutations) => {\n        for (const mutation of mutations) {\n            if (mutation.type !== 'childList') {\n                continue;\n            }\n            for (const node of mutation.addedNodes) {\n                if (node.tagName === 'LINK' && node.rel === 'modulepreload')\n                    processPreload(node);\n            }\n        }\n    }).observe(document, { childList: true, subtree: true });\n    function getFetchOpts(script) {\n        const fetchOpts = {};\n        if (script.integrity)\n            fetchOpts.integrity = script.integrity;\n        if (script.referrerpolicy)\n            fetchOpts.referrerPolicy = script.referrerpolicy;\n        if (script.crossorigin === 'use-credentials')\n            fetchOpts.credentials = 'include';\n        else if (script.crossorigin === 'anonymous')\n            fetchOpts.credentials = 'omit';\n        else\n            fetchOpts.credentials = 'same-origin';\n        return fetchOpts;\n    }\n    function processPreload(link) {\n        if (link.ep)\n            // ep marker = processed\n            return;\n        link.ep = true;\n        // prepopulate the load record\n        const fetchOpts = getFetchOpts(link);\n        fetch(link.href, fetchOpts);\n    }\n};__VITE_IS_MODERN__&&p();","/**\n * @license\n * Copyright 2019 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nconst t=window.ShadowRoot&&(void 0===window.ShadyCSS||window.ShadyCSS.nativeShadow)&&\"adoptedStyleSheets\"in Document.prototype&&\"replace\"in CSSStyleSheet.prototype,e=Symbol(),n=new Map;class s{constructor(t,n){if(this._$cssResult$=!0,n!==e)throw Error(\"CSSResult is not constructable. Use `unsafeCSS` or `css` instead.\");this.cssText=t}get styleSheet(){let e=n.get(this.cssText);return t&&void 0===e&&(n.set(this.cssText,e=new CSSStyleSheet),e.replaceSync(this.cssText)),e}toString(){return this.cssText}}const o=t=>new s(\"string\"==typeof t?t:t+\"\",e),r=(t,...n)=>{const o=1===t.length?t[0]:n.reduce(((e,n,s)=>e+(t=>{if(!0===t._$cssResult$)return t.cssText;if(\"number\"==typeof t)return t;throw Error(\"Value passed to 'css' function must be a 'css' function result: \"+t+\". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.\")})(n)+t[s+1]),t[0]);return new s(o,e)},i=(e,n)=>{t?e.adoptedStyleSheets=n.map((t=>t instanceof CSSStyleSheet?t:t.styleSheet)):n.forEach((t=>{const n=document.createElement(\"style\"),s=window.litNonce;void 0!==s&&n.setAttribute(\"nonce\",s),n.textContent=t.cssText,e.appendChild(n)}))},S=t?t=>t:t=>t instanceof CSSStyleSheet?(t=>{let e=\"\";for(const n of t.cssRules)e+=n.cssText;return o(e)})(t):t;export{s as CSSResult,i as adoptStyles,r as css,S as getCompatibleStyle,t as supportsAdoptingStyleSheets,o as unsafeCSS};\n//# sourceMappingURL=css-tag.js.map\n","import{getCompatibleStyle as t,adoptStyles as i}from\"./css-tag.js\";export{CSSResult,adoptStyles,css,getCompatibleStyle,supportsAdoptingStyleSheets,unsafeCSS}from\"./css-tag.js\";\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */var s;const e=window.trustedTypes,r=e?e.emptyScript:\"\",h=window.reactiveElementPolyfillSupport,o={toAttribute(t,i){switch(i){case Boolean:t=t?r:null;break;case Object:case Array:t=null==t?t:JSON.stringify(t)}return t},fromAttribute(t,i){let s=t;switch(i){case Boolean:s=null!==t;break;case Number:s=null===t?null:Number(t);break;case Object:case Array:try{s=JSON.parse(t)}catch(t){s=null}}return s}},n=(t,i)=>i!==t&&(i==i||t==t),l={attribute:!0,type:String,converter:o,reflect:!1,hasChanged:n};class a extends HTMLElement{constructor(){super(),this._$Et=new Map,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Ei=null,this.o()}static addInitializer(t){var i;null!==(i=this.l)&&void 0!==i||(this.l=[]),this.l.push(t)}static get observedAttributes(){this.finalize();const t=[];return this.elementProperties.forEach(((i,s)=>{const e=this._$Eh(s,i);void 0!==e&&(this._$Eu.set(e,s),t.push(e))})),t}static createProperty(t,i=l){if(i.state&&(i.attribute=!1),this.finalize(),this.elementProperties.set(t,i),!i.noAccessor&&!this.prototype.hasOwnProperty(t)){const s=\"symbol\"==typeof t?Symbol():\"__\"+t,e=this.getPropertyDescriptor(t,s,i);void 0!==e&&Object.defineProperty(this.prototype,t,e)}}static getPropertyDescriptor(t,i,s){return{get(){return this[i]},set(e){const r=this[t];this[i]=e,this.requestUpdate(t,r,s)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this.elementProperties.get(t)||l}static finalize(){if(this.hasOwnProperty(\"finalized\"))return!1;this.finalized=!0;const t=Object.getPrototypeOf(this);if(t.finalize(),this.elementProperties=new Map(t.elementProperties),this._$Eu=new Map,this.hasOwnProperty(\"properties\")){const t=this.properties,i=[...Object.getOwnPropertyNames(t),...Object.getOwnPropertySymbols(t)];for(const s of i)this.createProperty(s,t[s])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(i){const s=[];if(Array.isArray(i)){const e=new Set(i.flat(1/0).reverse());for(const i of e)s.unshift(t(i))}else void 0!==i&&s.push(t(i));return s}static _$Eh(t,i){const s=i.attribute;return!1===s?void 0:\"string\"==typeof s?s:\"string\"==typeof t?t.toLowerCase():void 0}o(){var t;this._$Ep=new Promise((t=>this.enableUpdating=t)),this._$AL=new Map,this._$Em(),this.requestUpdate(),null===(t=this.constructor.l)||void 0===t||t.forEach((t=>t(this)))}addController(t){var i,s;(null!==(i=this._$Eg)&&void 0!==i?i:this._$Eg=[]).push(t),void 0!==this.renderRoot&&this.isConnected&&(null===(s=t.hostConnected)||void 0===s||s.call(t))}removeController(t){var i;null===(i=this._$Eg)||void 0===i||i.splice(this._$Eg.indexOf(t)>>>0,1)}_$Em(){this.constructor.elementProperties.forEach(((t,i)=>{this.hasOwnProperty(i)&&(this._$Et.set(i,this[i]),delete this[i])}))}createRenderRoot(){var t;const s=null!==(t=this.shadowRoot)&&void 0!==t?t:this.attachShadow(this.constructor.shadowRootOptions);return i(s,this.constructor.elementStyles),s}connectedCallback(){var t;void 0===this.renderRoot&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),null===(t=this._$Eg)||void 0===t||t.forEach((t=>{var i;return null===(i=t.hostConnected)||void 0===i?void 0:i.call(t)}))}enableUpdating(t){}disconnectedCallback(){var t;null===(t=this._$Eg)||void 0===t||t.forEach((t=>{var i;return null===(i=t.hostDisconnected)||void 0===i?void 0:i.call(t)}))}attributeChangedCallback(t,i,s){this._$AK(t,s)}_$ES(t,i,s=l){var e,r;const h=this.constructor._$Eh(t,s);if(void 0!==h&&!0===s.reflect){const n=(null!==(r=null===(e=s.converter)||void 0===e?void 0:e.toAttribute)&&void 0!==r?r:o.toAttribute)(i,s.type);this._$Ei=t,null==n?this.removeAttribute(h):this.setAttribute(h,n),this._$Ei=null}}_$AK(t,i){var s,e,r;const h=this.constructor,n=h._$Eu.get(t);if(void 0!==n&&this._$Ei!==n){const t=h.getPropertyOptions(n),l=t.converter,a=null!==(r=null!==(e=null===(s=l)||void 0===s?void 0:s.fromAttribute)&&void 0!==e?e:\"function\"==typeof l?l:null)&&void 0!==r?r:o.fromAttribute;this._$Ei=n,this[n]=a(i,t.type),this._$Ei=null}}requestUpdate(t,i,s){let e=!0;void 0!==t&&(((s=s||this.constructor.getPropertyOptions(t)).hasChanged||n)(this[t],i)?(this._$AL.has(t)||this._$AL.set(t,i),!0===s.reflect&&this._$Ei!==t&&(void 0===this._$EC&&(this._$EC=new Map),this._$EC.set(t,s))):e=!1),!this.isUpdatePending&&e&&(this._$Ep=this._$E_())}async _$E_(){this.isUpdatePending=!0;try{await this._$Ep}catch(t){Promise.reject(t)}const t=this.scheduleUpdate();return null!=t&&await t,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var t;if(!this.isUpdatePending)return;this.hasUpdated,this._$Et&&(this._$Et.forEach(((t,i)=>this[i]=t)),this._$Et=void 0);let i=!1;const s=this._$AL;try{i=this.shouldUpdate(s),i?(this.willUpdate(s),null===(t=this._$Eg)||void 0===t||t.forEach((t=>{var i;return null===(i=t.hostUpdate)||void 0===i?void 0:i.call(t)})),this.update(s)):this._$EU()}catch(t){throw i=!1,this._$EU(),t}i&&this._$AE(s)}willUpdate(t){}_$AE(t){var i;null===(i=this._$Eg)||void 0===i||i.forEach((t=>{var i;return null===(i=t.hostUpdated)||void 0===i?void 0:i.call(t)})),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}_$EU(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$Ep}shouldUpdate(t){return!0}update(t){void 0!==this._$EC&&(this._$EC.forEach(((t,i)=>this._$ES(i,this[i],t))),this._$EC=void 0),this._$EU()}updated(t){}firstUpdated(t){}}a.finalized=!0,a.elementProperties=new Map,a.elementStyles=[],a.shadowRootOptions={mode:\"open\"},null==h||h({ReactiveElement:a}),(null!==(s=globalThis.reactiveElementVersions)&&void 0!==s?s:globalThis.reactiveElementVersions=[]).push(\"1.3.1\");export{a as ReactiveElement,o as defaultConverter,n as notEqual};\n//# sourceMappingURL=reactive-element.js.map\n","/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nvar t;const i=globalThis.trustedTypes,s=i?i.createPolicy(\"lit-html\",{createHTML:t=>t}):void 0,e=`lit$${(Math.random()+\"\").slice(9)}$`,o=\"?\"+e,n=`<${o}>`,l=document,h=(t=\"\")=>l.createComment(t),r=t=>null===t||\"object\"!=typeof t&&\"function\"!=typeof t,d=Array.isArray,u=t=>{var i;return d(t)||\"function\"==typeof(null===(i=t)||void 0===i?void 0:i[Symbol.iterator])},c=/<(?:(!--|\\/[^a-zA-Z])|(\\/?[a-zA-Z][^>\\s]*)|(\\/?$))/g,v=/-->/g,a=/>/g,f=/>|[ \t\\n\f\\r](?:([^\\s\"'>=/]+)([ \t\\n\f\\r]*=[ \t\\n\f\\r]*(?:[^ \t\\n\f\\r\"'`<>=]|(\"|')|))|$)/g,_=/'/g,m=/\"/g,g=/^(?:script|style|textarea|title)$/i,p=t=>(i,...s)=>({_$litType$:t,strings:i,values:s}),$=p(1),y=p(2),b=Symbol.for(\"lit-noChange\"),w=Symbol.for(\"lit-nothing\"),T=new WeakMap,x=(t,i,s)=>{var e,o;const n=null!==(e=null==s?void 0:s.renderBefore)&&void 0!==e?e:i;let l=n._$litPart$;if(void 0===l){const t=null!==(o=null==s?void 0:s.renderBefore)&&void 0!==o?o:null;n._$litPart$=l=new N(i.insertBefore(h(),t),t,void 0,null!=s?s:{})}return l._$AI(t),l},A=l.createTreeWalker(l,129,null,!1),C=(t,i)=>{const o=t.length-1,l=[];let h,r=2===i?\"<svg>\":\"\",d=c;for(let i=0;i<o;i++){const s=t[i];let o,u,p=-1,$=0;for(;$<s.length&&(d.lastIndex=$,u=d.exec(s),null!==u);)$=d.lastIndex,d===c?\"!--\"===u[1]?d=v:void 0!==u[1]?d=a:void 0!==u[2]?(g.test(u[2])&&(h=RegExp(\"</\"+u[2],\"g\")),d=f):void 0!==u[3]&&(d=f):d===f?\">\"===u[0]?(d=null!=h?h:c,p=-1):void 0===u[1]?p=-2:(p=d.lastIndex-u[2].length,o=u[1],d=void 0===u[3]?f:'\"'===u[3]?m:_):d===m||d===_?d=f:d===v||d===a?d=c:(d=f,h=void 0);const y=d===f&&t[i+1].startsWith(\"/>\")?\" \":\"\";r+=d===c?s+n:p>=0?(l.push(o),s.slice(0,p)+\"$lit$\"+s.slice(p)+e+y):s+e+(-2===p?(l.push(void 0),i):y)}const u=r+(t[o]||\"<?>\")+(2===i?\"</svg>\":\"\");if(!Array.isArray(t)||!t.hasOwnProperty(\"raw\"))throw Error(\"invalid template strings array\");return[void 0!==s?s.createHTML(u):u,l]};class E{constructor({strings:t,_$litType$:s},n){let l;this.parts=[];let r=0,d=0;const u=t.length-1,c=this.parts,[v,a]=C(t,s);if(this.el=E.createElement(v,n),A.currentNode=this.el.content,2===s){const t=this.el.content,i=t.firstChild;i.remove(),t.append(...i.childNodes)}for(;null!==(l=A.nextNode())&&c.length<u;){if(1===l.nodeType){if(l.hasAttributes()){const t=[];for(const i of l.getAttributeNames())if(i.endsWith(\"$lit$\")||i.startsWith(e)){const s=a[d++];if(t.push(i),void 0!==s){const t=l.getAttribute(s.toLowerCase()+\"$lit$\").split(e),i=/([.?@])?(.*)/.exec(s);c.push({type:1,index:r,name:i[2],strings:t,ctor:\".\"===i[1]?M:\"?\"===i[1]?H:\"@\"===i[1]?I:S})}else c.push({type:6,index:r})}for(const i of t)l.removeAttribute(i)}if(g.test(l.tagName)){const t=l.textContent.split(e),s=t.length-1;if(s>0){l.textContent=i?i.emptyScript:\"\";for(let i=0;i<s;i++)l.append(t[i],h()),A.nextNode(),c.push({type:2,index:++r});l.append(t[s],h())}}}else if(8===l.nodeType)if(l.data===o)c.push({type:2,index:r});else{let t=-1;for(;-1!==(t=l.data.indexOf(e,t+1));)c.push({type:7,index:r}),t+=e.length-1}r++}}static createElement(t,i){const s=l.createElement(\"template\");return s.innerHTML=t,s}}function P(t,i,s=t,e){var o,n,l,h;if(i===b)return i;let d=void 0!==e?null===(o=s._$Cl)||void 0===o?void 0:o[e]:s._$Cu;const u=r(i)?void 0:i._$litDirective$;return(null==d?void 0:d.constructor)!==u&&(null===(n=null==d?void 0:d._$AO)||void 0===n||n.call(d,!1),void 0===u?d=void 0:(d=new u(t),d._$AT(t,s,e)),void 0!==e?(null!==(l=(h=s)._$Cl)&&void 0!==l?l:h._$Cl=[])[e]=d:s._$Cu=d),void 0!==d&&(i=P(t,d._$AS(t,i.values),d,e)),i}class V{constructor(t,i){this.v=[],this._$AN=void 0,this._$AD=t,this._$AM=i}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}p(t){var i;const{el:{content:s},parts:e}=this._$AD,o=(null!==(i=null==t?void 0:t.creationScope)&&void 0!==i?i:l).importNode(s,!0);A.currentNode=o;let n=A.nextNode(),h=0,r=0,d=e[0];for(;void 0!==d;){if(h===d.index){let i;2===d.type?i=new N(n,n.nextSibling,this,t):1===d.type?i=new d.ctor(n,d.name,d.strings,this,t):6===d.type&&(i=new L(n,this,t)),this.v.push(i),d=e[++r]}h!==(null==d?void 0:d.index)&&(n=A.nextNode(),h++)}return o}m(t){let i=0;for(const s of this.v)void 0!==s&&(void 0!==s.strings?(s._$AI(t,s,i),i+=s.strings.length-2):s._$AI(t[i])),i++}}class N{constructor(t,i,s,e){var o;this.type=2,this._$AH=w,this._$AN=void 0,this._$AA=t,this._$AB=i,this._$AM=s,this.options=e,this._$Cg=null===(o=null==e?void 0:e.isConnected)||void 0===o||o}get _$AU(){var t,i;return null!==(i=null===(t=this._$AM)||void 0===t?void 0:t._$AU)&&void 0!==i?i:this._$Cg}get parentNode(){let t=this._$AA.parentNode;const i=this._$AM;return void 0!==i&&11===t.nodeType&&(t=i.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,i=this){t=P(this,t,i),r(t)?t===w||null==t||\"\"===t?(this._$AH!==w&&this._$AR(),this._$AH=w):t!==this._$AH&&t!==b&&this.$(t):void 0!==t._$litType$?this.T(t):void 0!==t.nodeType?this.k(t):u(t)?this.S(t):this.$(t)}A(t,i=this._$AB){return this._$AA.parentNode.insertBefore(t,i)}k(t){this._$AH!==t&&(this._$AR(),this._$AH=this.A(t))}$(t){this._$AH!==w&&r(this._$AH)?this._$AA.nextSibling.data=t:this.k(l.createTextNode(t)),this._$AH=t}T(t){var i;const{values:s,_$litType$:e}=t,o=\"number\"==typeof e?this._$AC(t):(void 0===e.el&&(e.el=E.createElement(e.h,this.options)),e);if((null===(i=this._$AH)||void 0===i?void 0:i._$AD)===o)this._$AH.m(s);else{const t=new V(o,this),i=t.p(this.options);t.m(s),this.k(i),this._$AH=t}}_$AC(t){let i=T.get(t.strings);return void 0===i&&T.set(t.strings,i=new E(t)),i}S(t){d(this._$AH)||(this._$AH=[],this._$AR());const i=this._$AH;let s,e=0;for(const o of t)e===i.length?i.push(s=new N(this.A(h()),this.A(h()),this,this.options)):s=i[e],s._$AI(o),e++;e<i.length&&(this._$AR(s&&s._$AB.nextSibling,e),i.length=e)}_$AR(t=this._$AA.nextSibling,i){var s;for(null===(s=this._$AP)||void 0===s||s.call(this,!1,!0,i);t&&t!==this._$AB;){const i=t.nextSibling;t.remove(),t=i}}setConnected(t){var i;void 0===this._$AM&&(this._$Cg=t,null===(i=this._$AP)||void 0===i||i.call(this,t))}}class S{constructor(t,i,s,e,o){this.type=1,this._$AH=w,this._$AN=void 0,this.element=t,this.name=i,this._$AM=e,this.options=o,s.length>2||\"\"!==s[0]||\"\"!==s[1]?(this._$AH=Array(s.length-1).fill(new String),this.strings=s):this._$AH=w}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(t,i=this,s,e){const o=this.strings;let n=!1;if(void 0===o)t=P(this,t,i,0),n=!r(t)||t!==this._$AH&&t!==b,n&&(this._$AH=t);else{const e=t;let l,h;for(t=o[0],l=0;l<o.length-1;l++)h=P(this,e[s+l],i,l),h===b&&(h=this._$AH[l]),n||(n=!r(h)||h!==this._$AH[l]),h===w?t=w:t!==w&&(t+=(null!=h?h:\"\")+o[l+1]),this._$AH[l]=h}n&&!e&&this.C(t)}C(t){t===w?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,null!=t?t:\"\")}}class M extends S{constructor(){super(...arguments),this.type=3}C(t){this.element[this.name]=t===w?void 0:t}}const k=i?i.emptyScript:\"\";class H extends S{constructor(){super(...arguments),this.type=4}C(t){t&&t!==w?this.element.setAttribute(this.name,k):this.element.removeAttribute(this.name)}}class I extends S{constructor(t,i,s,e,o){super(t,i,s,e,o),this.type=5}_$AI(t,i=this){var s;if((t=null!==(s=P(this,t,i,0))&&void 0!==s?s:w)===b)return;const e=this._$AH,o=t===w&&e!==w||t.capture!==e.capture||t.once!==e.once||t.passive!==e.passive,n=t!==w&&(e===w||o);o&&this.element.removeEventListener(this.name,this,e),n&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){var i,s;\"function\"==typeof this._$AH?this._$AH.call(null!==(s=null===(i=this.options)||void 0===i?void 0:i.host)&&void 0!==s?s:this.element,t):this._$AH.handleEvent(t)}}class L{constructor(t,i,s){this.element=t,this.type=6,this._$AN=void 0,this._$AM=i,this.options=s}get _$AU(){return this._$AM._$AU}_$AI(t){P(this,t)}}const R={P:\"$lit$\",L:e,V:o,I:1,N:C,R:V,D:u,j:P,H:N,O:S,F:H,B:I,W:M,Z:L},z=window.litHtmlPolyfillSupport;null==z||z(E,N),(null!==(t=globalThis.litHtmlVersions)&&void 0!==t?t:globalThis.litHtmlVersions=[]).push(\"2.2.1\");export{R as _$LH,$ as html,b as noChange,w as nothing,x as render,y as svg};\n//# sourceMappingURL=lit-html.js.map\n","import{ReactiveElement as t}from\"@lit/reactive-element\";export*from\"@lit/reactive-element\";import{render as e,noChange as i}from\"lit-html\";export*from\"lit-html\";\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */var l,o;const r=t;class s extends t{constructor(){super(...arguments),this.renderOptions={host:this},this._$Dt=void 0}createRenderRoot(){var t,e;const i=super.createRenderRoot();return null!==(t=(e=this.renderOptions).renderBefore)&&void 0!==t||(e.renderBefore=i.firstChild),i}update(t){const i=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t),this._$Dt=e(i,this.renderRoot,this.renderOptions)}connectedCallback(){var t;super.connectedCallback(),null===(t=this._$Dt)||void 0===t||t.setConnected(!0)}disconnectedCallback(){var t;super.disconnectedCallback(),null===(t=this._$Dt)||void 0===t||t.setConnected(!1)}render(){return i}}s.finalized=!0,s._$litElement$=!0,null===(l=globalThis.litElementHydrateSupport)||void 0===l||l.call(globalThis,{LitElement:s});const n=globalThis.litElementPolyfillSupport;null==n||n({LitElement:s});const h={_$AK:(t,e,i)=>{t._$AK(e,i)},_$AL:t=>t._$AL};(null!==(o=globalThis.litElementVersions)&&void 0!==o?o:globalThis.litElementVersions=[]).push(\"3.2.0\");export{s as LitElement,r as UpdatingElement,h as _$LE};\n//# sourceMappingURL=lit-element.js.map\n","/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nconst n=n=>e=>\"function\"==typeof e?((n,e)=>(window.customElements.define(n,e),e))(n,e):((n,e)=>{const{kind:t,elements:i}=e;return{kind:t,elements:i,finisher(e){window.customElements.define(n,e)}}})(n,e);export{n as customElement};\n//# sourceMappingURL=custom-element.js.map\n","/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nconst i=(i,e)=>\"method\"===e.kind&&e.descriptor&&!(\"value\"in e.descriptor)?{...e,finisher(n){n.createProperty(e.key,i)}}:{kind:\"field\",key:Symbol(),placement:\"own\",descriptor:{},originalKey:e.key,initializer(){\"function\"==typeof e.initializer&&(this[e.key]=e.initializer.call(this))},finisher(n){n.createProperty(e.key,i)}};function e(e){return(n,t)=>void 0!==t?((i,e,n)=>{e.constructor.createProperty(n,i)})(e,n,t):i(e,n)}export{e as property};\n//# sourceMappingURL=property.js.map\n","/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nconst e=(e,t,o)=>{Object.defineProperty(t,o,e)},t=(e,t)=>({kind:\"method\",placement:\"prototype\",key:t.key,descriptor:e}),o=({finisher:e,descriptor:t})=>(o,n)=>{var r;if(void 0===n){const n=null!==(r=o.originalKey)&&void 0!==r?r:o.key,i=null!=t?{kind:\"method\",placement:\"prototype\",key:n,descriptor:t(o.key)}:{...o,key:n};return null!=e&&(i.finisher=function(t){e(t,n)}),i}{const r=o.constructor;void 0!==t&&Object.defineProperty(o,n,t(n)),null==e||e(r,n)}};export{o as decorateProperty,e as legacyPrototypeMethod,t as standardPrototypeMethod};\n//# sourceMappingURL=base.js.map\n","import{decorateProperty as o}from\"./base.js\";\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */function i(i,n){return o({descriptor:o=>{const t={get(){var o,n;return null!==(n=null===(o=this.renderRoot)||void 0===o?void 0:o.querySelector(i))&&void 0!==n?n:null},enumerable:!0,configurable:!0};if(n){const n=\"symbol\"==typeof o?Symbol():\"__\"+o;t.get=function(){var o,t;return void 0===this[n]&&(this[n]=null!==(t=null===(o=this.renderRoot)||void 0===o?void 0:o.querySelector(i))&&void 0!==t?t:null),this[n]}}return t}})}export{i as query};\n//# sourceMappingURL=query.js.map\n","import{decorateProperty as o}from\"./base.js\";\n/**\n * @license\n * Copyright 2021 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */var n;const e=null!=(null===(n=window.HTMLSlotElement)||void 0===n?void 0:n.prototype.assignedElements)?(o,n)=>o.assignedElements(n):(o,n)=>o.assignedNodes(n).filter((o=>o.nodeType===Node.ELEMENT_NODE));function l(n){const{slot:l,selector:t}=null!=n?n:{};return o({descriptor:o=>({get(){var o;const r=\"slot\"+(l?`[name=${l}]`:\":not([name])\"),i=null===(o=this.renderRoot)||void 0===o?void 0:o.querySelector(r),s=null!=i?e(i,n):[];return t?s.filter((o=>o.matches(t))):s},enumerable:!0,configurable:!0})})}export{l as queryAssignedElements};\n//# sourceMappingURL=query-assigned-elements.js.map\n","function toArray(objectOrArray) {\n  objectOrArray = objectOrArray || [];\n  return Array.isArray(objectOrArray) ? objectOrArray : [objectOrArray];\n}\n\nfunction log(msg) {\n  return `[Vaadin.Router] ${msg}`;\n}\n\nfunction logValue(value) {\n  if (typeof value !== 'object') {\n    return String(value);\n  }\n\n  const stringType = Object.prototype.toString.call(value).match(/ (.*)\\]$/)[1];\n  if (stringType === 'Object' || stringType === 'Array') {\n    return `${stringType} ${JSON.stringify(value)}`;\n  } else {\n    return stringType;\n  }\n}\n\nconst MODULE = 'module';\nconst NOMODULE = 'nomodule';\nconst bundleKeys = [MODULE, NOMODULE];\n\nfunction ensureBundle(src) {\n  if (!src.match(/.+\\.[m]?js$/)) {\n    throw new Error(\n      log(`Unsupported type for bundle \"${src}\": .js or .mjs expected.`)\n    );\n  }\n}\n\nfunction ensureRoute(route) {\n  if (!route || !isString(route.path)) {\n    throw new Error(\n      log(`Expected route config to be an object with a \"path\" string property, or an array of such objects`)\n    );\n  }\n\n  const bundle = route.bundle;\n\n  const stringKeys = ['component', 'redirect', 'bundle'];\n  if (\n    !isFunction(route.action) &&\n    !Array.isArray(route.children) &&\n    !isFunction(route.children) &&\n    !isObject(bundle) &&\n    !stringKeys.some(key => isString(route[key]))\n  ) {\n    throw new Error(\n      log(\n        `Expected route config \"${route.path}\" to include either \"${stringKeys.join('\", \"')}\" ` +\n        `or \"action\" function but none found.`\n      )\n    );\n  }\n\n  if (bundle) {\n    if (isString(bundle)) {\n      ensureBundle(bundle);\n    } else if (!bundleKeys.some(key => key in bundle)) {\n      throw new Error(\n        log('Expected route bundle to include either \"' + NOMODULE + '\" or \"' + MODULE + '\" keys, or both')\n      );\n    } else {\n      bundleKeys.forEach(key => key in bundle && ensureBundle(bundle[key]));\n    }\n  }\n\n  if (route.redirect) {\n    ['bundle', 'component'].forEach(overriddenProp => {\n      if (overriddenProp in route) {\n        console.warn(\n          log(\n            `Route config \"${route.path}\" has both \"redirect\" and \"${overriddenProp}\" properties, ` +\n            `and \"redirect\" will always override the latter. Did you mean to only use \"${overriddenProp}\"?`\n          )\n        );\n      }\n    });\n  }\n}\n\nfunction ensureRoutes(routes) {\n  toArray(routes).forEach(route => ensureRoute(route));\n}\n\nfunction loadScript(src, key) {\n  let script = document.head.querySelector('script[src=\"' + src + '\"][async]');\n  if (!script) {\n    script = document.createElement('script');\n    script.setAttribute('src', src);\n    if (key === MODULE) {\n      script.setAttribute('type', MODULE);\n    } else if (key === NOMODULE) {\n      script.setAttribute(NOMODULE, '');\n    }\n    script.async = true;\n  }\n  return new Promise((resolve, reject) => {\n    script.onreadystatechange = script.onload = e => {\n      script.__dynamicImportLoaded = true;\n      resolve(e);\n    };\n    script.onerror = e => {\n      if (script.parentNode) {\n        script.parentNode.removeChild(script);\n      }\n      reject(e);\n    };\n    if (script.parentNode === null) {\n      document.head.appendChild(script);\n    } else if (script.__dynamicImportLoaded) {\n      resolve();\n    }\n  });\n}\n\nfunction loadBundle(bundle) {\n  if (isString(bundle)) {\n    return loadScript(bundle);\n  } else {\n    return Promise.race(\n      bundleKeys\n        .filter(key => key in bundle)\n        .map(key => loadScript(bundle[key], key))\n    );\n  }\n}\n\nfunction fireRouterEvent(type, detail) {\n  return !window.dispatchEvent(new CustomEvent(\n    `vaadin-router-${type}`,\n    {cancelable: type === 'go', detail}\n  ));\n}\n\nfunction isObject(o) {\n  // guard against null passing the typeof check\n  return typeof o === 'object' && !!o;\n}\n\nfunction isFunction(f) {\n  return typeof f === 'function';\n}\n\nfunction isString(s) {\n  return typeof s === 'string';\n}\n\nfunction getNotFoundError(context) {\n  const error = new Error(log(`Page not found (${context.pathname})`));\n  error.context = context;\n  error.code = 404;\n  return error;\n}\n\nconst notFoundResult = new (class NotFoundResult {})();\n\n/* istanbul ignore next: coverage is calculated in Chrome, this code is for IE */\nfunction getAnchorOrigin(anchor) {\n  // IE11: on HTTP and HTTPS the default port is not included into\n  // window.location.origin, so won't include it here either.\n  const port = anchor.port;\n  const protocol = anchor.protocol;\n  const defaultHttp = protocol === 'http:' && port === '80';\n  const defaultHttps = protocol === 'https:' && port === '443';\n  const host = (defaultHttp || defaultHttps)\n    ? anchor.hostname // does not include the port number (e.g. www.example.org)\n    : anchor.host; // does include the port number (e.g. www.example.org:80)\n  return `${protocol}//${host}`;\n}\n\n// The list of checks is not complete:\n//  - SVG support is missing\n//  - the 'rel' attribute is not considered\nfunction vaadinRouterGlobalClickHandler(event) {\n  // ignore the click if the default action is prevented\n  if (event.defaultPrevented) {\n    return;\n  }\n\n  // ignore the click if not with the primary mouse button\n  if (event.button !== 0) {\n    return;\n  }\n\n  // ignore the click if a modifier key is pressed\n  if (event.shiftKey || event.ctrlKey || event.altKey || event.metaKey) {\n    return;\n  }\n\n  // find the <a> element that the click is at (or within)\n  let anchor = event.target;\n  const path = event.composedPath\n    ? event.composedPath()\n    : (event.path || []);\n\n  // FIXME(web-padawan): `Symbol.iterator` used by webcomponentsjs is broken for arrays\n  // example to check: `for...of` loop here throws the \"Not yet implemented\" error\n  for (let i = 0; i < path.length; i++) {\n    const target = path[i];\n    if (target.nodeName && target.nodeName.toLowerCase() === 'a') {\n      anchor = target;\n      break;\n    }\n  }\n\n  while (anchor && anchor.nodeName.toLowerCase() !== 'a') {\n    anchor = anchor.parentNode;\n  }\n\n  // ignore the click if not at an <a> element\n  if (!anchor || anchor.nodeName.toLowerCase() !== 'a') {\n    return;\n  }\n\n  // ignore the click if the <a> element has a non-default target\n  if (anchor.target && anchor.target.toLowerCase() !== '_self') {\n    return;\n  }\n\n  // ignore the click if the <a> element has the 'download' attribute\n  if (anchor.hasAttribute('download')) {\n    return;\n  }\n\n  // ignore the click if the <a> element has the 'router-ignore' attribute\n  if (anchor.hasAttribute('router-ignore')) {\n    return;\n  }\n\n  // ignore the click if the target URL is a fragment on the current page\n  if (anchor.pathname === window.location.pathname && anchor.hash !== '') {\n    return;\n  }\n\n  // ignore the click if the target is external to the app\n  // In IE11 HTMLAnchorElement does not have the `origin` property\n  const origin = anchor.origin || getAnchorOrigin(anchor);\n  if (origin !== window.location.origin) {\n    return;\n  }\n\n  // if none of the above, convert the click into a navigation event\n  const {pathname, search, hash} = anchor;\n  if (fireRouterEvent('go', {pathname, search, hash})) {\n    event.preventDefault();\n    // for a click event, the scroll is reset to the top position.\n    if (event && event.type === 'click') {\n      window.scrollTo(0, 0);\n    }\n  }\n}\n\n/**\n * A navigation trigger for Vaadin Router that translated clicks on `<a>` links\n * into Vaadin Router navigation events.\n *\n * Only regular clicks on in-app links are translated (primary mouse button, no\n * modifier keys, the target href is within the app's URL space).\n *\n * @memberOf Router.NavigationTrigger\n * @type {NavigationTrigger}\n */\nconst CLICK = {\n  activate() {\n    window.document.addEventListener('click', vaadinRouterGlobalClickHandler);\n  },\n\n  inactivate() {\n    window.document.removeEventListener('click', vaadinRouterGlobalClickHandler);\n  }\n};\n\n// PopStateEvent constructor shim\nconst isIE = /Trident/.test(navigator.userAgent);\n\n/* istanbul ignore next: coverage is calculated in Chrome, this code is for IE */\nif (isIE && !isFunction(window.PopStateEvent)) {\n  window.PopStateEvent = function(inType, params) {\n    params = params || {};\n    var e = document.createEvent('Event');\n    e.initEvent(inType, Boolean(params.bubbles), Boolean(params.cancelable));\n    e.state = params.state || null;\n    return e;\n  };\n  window.PopStateEvent.prototype = window.Event.prototype;\n}\n\nfunction vaadinRouterGlobalPopstateHandler(event) {\n  if (event.state === 'vaadin-router-ignore') {\n    return;\n  }\n  const {pathname, search, hash} = window.location;\n  fireRouterEvent('go', {pathname, search, hash});\n}\n\n/**\n * A navigation trigger for Vaadin Router that translates popstate events into\n * Vaadin Router navigation events.\n *\n * @memberOf Router.NavigationTrigger\n * @type {NavigationTrigger}\n */\nconst POPSTATE = {\n  activate() {\n    window.addEventListener('popstate', vaadinRouterGlobalPopstateHandler);\n  },\n\n  inactivate() {\n    window.removeEventListener('popstate', vaadinRouterGlobalPopstateHandler);\n  }\n};\n\n/**\n * Expose `pathToRegexp`.\n */\nvar pathToRegexp_1 = pathToRegexp;\nvar parse_1 = parse;\nvar compile_1 = compile;\nvar tokensToFunction_1 = tokensToFunction;\nvar tokensToRegExp_1 = tokensToRegExp;\n\n/**\n * Default configs.\n */\nvar DEFAULT_DELIMITER = '/';\nvar DEFAULT_DELIMITERS = './';\n\n/**\n * The main path matching regexp utility.\n *\n * @type {RegExp}\n */\nvar PATH_REGEXP = new RegExp([\n  // Match escaped characters that would otherwise appear in future matches.\n  // This allows the user to escape special characters that won't transform.\n  '(\\\\\\\\.)',\n  // Match Express-style parameters and un-named parameters with a prefix\n  // and optional suffixes. Matches appear as:\n  //\n  // \":test(\\\\d+)?\" => [\"test\", \"\\d+\", undefined, \"?\"]\n  // \"(\\\\d+)\"  => [undefined, undefined, \"\\d+\", undefined]\n  '(?:\\\\:(\\\\w+)(?:\\\\(((?:\\\\\\\\.|[^\\\\\\\\()])+)\\\\))?|\\\\(((?:\\\\\\\\.|[^\\\\\\\\()])+)\\\\))([+*?])?'\n].join('|'), 'g');\n\n/**\n * Parse a string for the raw tokens.\n *\n * @param  {string}  str\n * @param  {Object=} options\n * @return {!Array}\n */\nfunction parse (str, options) {\n  var tokens = [];\n  var key = 0;\n  var index = 0;\n  var path = '';\n  var defaultDelimiter = (options && options.delimiter) || DEFAULT_DELIMITER;\n  var delimiters = (options && options.delimiters) || DEFAULT_DELIMITERS;\n  var pathEscaped = false;\n  var res;\n\n  while ((res = PATH_REGEXP.exec(str)) !== null) {\n    var m = res[0];\n    var escaped = res[1];\n    var offset = res.index;\n    path += str.slice(index, offset);\n    index = offset + m.length;\n\n    // Ignore already escaped sequences.\n    if (escaped) {\n      path += escaped[1];\n      pathEscaped = true;\n      continue\n    }\n\n    var prev = '';\n    var next = str[index];\n    var name = res[2];\n    var capture = res[3];\n    var group = res[4];\n    var modifier = res[5];\n\n    if (!pathEscaped && path.length) {\n      var k = path.length - 1;\n\n      if (delimiters.indexOf(path[k]) > -1) {\n        prev = path[k];\n        path = path.slice(0, k);\n      }\n    }\n\n    // Push the current path onto the tokens.\n    if (path) {\n      tokens.push(path);\n      path = '';\n      pathEscaped = false;\n    }\n\n    var partial = prev !== '' && next !== undefined && next !== prev;\n    var repeat = modifier === '+' || modifier === '*';\n    var optional = modifier === '?' || modifier === '*';\n    var delimiter = prev || defaultDelimiter;\n    var pattern = capture || group;\n\n    tokens.push({\n      name: name || key++,\n      prefix: prev,\n      delimiter: delimiter,\n      optional: optional,\n      repeat: repeat,\n      partial: partial,\n      pattern: pattern ? escapeGroup(pattern) : '[^' + escapeString(delimiter) + ']+?'\n    });\n  }\n\n  // Push any remaining characters.\n  if (path || index < str.length) {\n    tokens.push(path + str.substr(index));\n  }\n\n  return tokens\n}\n\n/**\n * Compile a string to a template function for the path.\n *\n * @param  {string}             str\n * @param  {Object=}            options\n * @return {!function(Object=, Object=)}\n */\nfunction compile (str, options) {\n  return tokensToFunction(parse(str, options))\n}\n\n/**\n * Expose a method for transforming tokens into the path function.\n */\nfunction tokensToFunction (tokens) {\n  // Compile all the tokens into regexps.\n  var matches = new Array(tokens.length);\n\n  // Compile all the patterns before compilation.\n  for (var i = 0; i < tokens.length; i++) {\n    if (typeof tokens[i] === 'object') {\n      matches[i] = new RegExp('^(?:' + tokens[i].pattern + ')$');\n    }\n  }\n\n  return function (data, options) {\n    var path = '';\n    var encode = (options && options.encode) || encodeURIComponent;\n\n    for (var i = 0; i < tokens.length; i++) {\n      var token = tokens[i];\n\n      if (typeof token === 'string') {\n        path += token;\n        continue\n      }\n\n      var value = data ? data[token.name] : undefined;\n      var segment;\n\n      if (Array.isArray(value)) {\n        if (!token.repeat) {\n          throw new TypeError('Expected \"' + token.name + '\" to not repeat, but got array')\n        }\n\n        if (value.length === 0) {\n          if (token.optional) continue\n\n          throw new TypeError('Expected \"' + token.name + '\" to not be empty')\n        }\n\n        for (var j = 0; j < value.length; j++) {\n          segment = encode(value[j], token);\n\n          if (!matches[i].test(segment)) {\n            throw new TypeError('Expected all \"' + token.name + '\" to match \"' + token.pattern + '\"')\n          }\n\n          path += (j === 0 ? token.prefix : token.delimiter) + segment;\n        }\n\n        continue\n      }\n\n      if (typeof value === 'string' || typeof value === 'number' || typeof value === 'boolean') {\n        segment = encode(String(value), token);\n\n        if (!matches[i].test(segment)) {\n          throw new TypeError('Expected \"' + token.name + '\" to match \"' + token.pattern + '\", but got \"' + segment + '\"')\n        }\n\n        path += token.prefix + segment;\n        continue\n      }\n\n      if (token.optional) {\n        // Prepend partial segment prefixes.\n        if (token.partial) path += token.prefix;\n\n        continue\n      }\n\n      throw new TypeError('Expected \"' + token.name + '\" to be ' + (token.repeat ? 'an array' : 'a string'))\n    }\n\n    return path\n  }\n}\n\n/**\n * Escape a regular expression string.\n *\n * @param  {string} str\n * @return {string}\n */\nfunction escapeString (str) {\n  return str.replace(/([.+*?=^!:${}()[\\]|/\\\\])/g, '\\\\$1')\n}\n\n/**\n * Escape the capturing group by escaping special characters and meaning.\n *\n * @param  {string} group\n * @return {string}\n */\nfunction escapeGroup (group) {\n  return group.replace(/([=!:$/()])/g, '\\\\$1')\n}\n\n/**\n * Get the flags for a regexp from the options.\n *\n * @param  {Object} options\n * @return {string}\n */\nfunction flags (options) {\n  return options && options.sensitive ? '' : 'i'\n}\n\n/**\n * Pull out keys from a regexp.\n *\n * @param  {!RegExp} path\n * @param  {Array=}  keys\n * @return {!RegExp}\n */\nfunction regexpToRegexp (path, keys) {\n  if (!keys) return path\n\n  // Use a negative lookahead to match only capturing groups.\n  var groups = path.source.match(/\\((?!\\?)/g);\n\n  if (groups) {\n    for (var i = 0; i < groups.length; i++) {\n      keys.push({\n        name: i,\n        prefix: null,\n        delimiter: null,\n        optional: false,\n        repeat: false,\n        partial: false,\n        pattern: null\n      });\n    }\n  }\n\n  return path\n}\n\n/**\n * Transform an array into a regexp.\n *\n * @param  {!Array}  path\n * @param  {Array=}  keys\n * @param  {Object=} options\n * @return {!RegExp}\n */\nfunction arrayToRegexp (path, keys, options) {\n  var parts = [];\n\n  for (var i = 0; i < path.length; i++) {\n    parts.push(pathToRegexp(path[i], keys, options).source);\n  }\n\n  return new RegExp('(?:' + parts.join('|') + ')', flags(options))\n}\n\n/**\n * Create a path regexp from string input.\n *\n * @param  {string}  path\n * @param  {Array=}  keys\n * @param  {Object=} options\n * @return {!RegExp}\n */\nfunction stringToRegexp (path, keys, options) {\n  return tokensToRegExp(parse(path, options), keys, options)\n}\n\n/**\n * Expose a function for taking tokens and returning a RegExp.\n *\n * @param  {!Array}  tokens\n * @param  {Array=}  keys\n * @param  {Object=} options\n * @return {!RegExp}\n */\nfunction tokensToRegExp (tokens, keys, options) {\n  options = options || {};\n\n  var strict = options.strict;\n  var start = options.start !== false;\n  var end = options.end !== false;\n  var delimiter = escapeString(options.delimiter || DEFAULT_DELIMITER);\n  var delimiters = options.delimiters || DEFAULT_DELIMITERS;\n  var endsWith = [].concat(options.endsWith || []).map(escapeString).concat('$').join('|');\n  var route = start ? '^' : '';\n  var isEndDelimited = tokens.length === 0;\n\n  // Iterate over the tokens and create our regexp string.\n  for (var i = 0; i < tokens.length; i++) {\n    var token = tokens[i];\n\n    if (typeof token === 'string') {\n      route += escapeString(token);\n      isEndDelimited = i === tokens.length - 1 && delimiters.indexOf(token[token.length - 1]) > -1;\n    } else {\n      var capture = token.repeat\n        ? '(?:' + token.pattern + ')(?:' + escapeString(token.delimiter) + '(?:' + token.pattern + '))*'\n        : token.pattern;\n\n      if (keys) keys.push(token);\n\n      if (token.optional) {\n        if (token.partial) {\n          route += escapeString(token.prefix) + '(' + capture + ')?';\n        } else {\n          route += '(?:' + escapeString(token.prefix) + '(' + capture + '))?';\n        }\n      } else {\n        route += escapeString(token.prefix) + '(' + capture + ')';\n      }\n    }\n  }\n\n  if (end) {\n    if (!strict) route += '(?:' + delimiter + ')?';\n\n    route += endsWith === '$' ? '$' : '(?=' + endsWith + ')';\n  } else {\n    if (!strict) route += '(?:' + delimiter + '(?=' + endsWith + '))?';\n    if (!isEndDelimited) route += '(?=' + delimiter + '|' + endsWith + ')';\n  }\n\n  return new RegExp(route, flags(options))\n}\n\n/**\n * Normalize the given path string, returning a regular expression.\n *\n * An empty array can be passed in for the keys, which will hold the\n * placeholder key descriptions. For example, using `/user/:id`, `keys` will\n * contain `[{ name: 'id', delimiter: '/', optional: false, repeat: false }]`.\n *\n * @param  {(string|RegExp|Array)} path\n * @param  {Array=}                keys\n * @param  {Object=}               options\n * @return {!RegExp}\n */\nfunction pathToRegexp (path, keys, options) {\n  if (path instanceof RegExp) {\n    return regexpToRegexp(path, keys)\n  }\n\n  if (Array.isArray(path)) {\n    return arrayToRegexp(/** @type {!Array} */ (path), keys, options)\n  }\n\n  return stringToRegexp(/** @type {string} */ (path), keys, options)\n}\npathToRegexp_1.parse = parse_1;\npathToRegexp_1.compile = compile_1;\npathToRegexp_1.tokensToFunction = tokensToFunction_1;\npathToRegexp_1.tokensToRegExp = tokensToRegExp_1;\n\n/**\n * Universal Router (https://www.kriasoft.com/universal-router/)\n *\n * Copyright (c) 2015-present Kriasoft.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE.txt file in the root directory of this source tree.\n */\n\nconst {hasOwnProperty} = Object.prototype;\nconst cache = new Map();\n// see https://github.com/pillarjs/path-to-regexp/issues/148\ncache.set('|false', {\n  keys: [],\n  pattern: /(?:)/\n});\n\nfunction decodeParam(val) {\n  try {\n    return decodeURIComponent(val);\n  } catch (err) {\n    return val;\n  }\n}\n\nfunction matchPath(routepath, path, exact, parentKeys, parentParams) {\n  exact = !!exact;\n  const cacheKey = `${routepath}|${exact}`;\n  let regexp = cache.get(cacheKey);\n\n  if (!regexp) {\n    const keys = [];\n    regexp = {\n      keys,\n      pattern: pathToRegexp_1(routepath, keys, {\n        end: exact,\n        strict: routepath === ''\n      }),\n    };\n    cache.set(cacheKey, regexp);\n  }\n\n  const m = regexp.pattern.exec(path);\n  if (!m) {\n    return null;\n  }\n\n  const params = Object.assign({}, parentParams);\n\n  for (let i = 1; i < m.length; i++) {\n    const key = regexp.keys[i - 1];\n    const prop = key.name;\n    const value = m[i];\n    if (value !== undefined || !hasOwnProperty.call(params, prop)) {\n      if (key.repeat) {\n        params[prop] = value ? value.split(key.delimiter).map(decodeParam) : [];\n      } else {\n        params[prop] = value ? decodeParam(value) : value;\n      }\n    }\n  }\n\n  return {\n    path: m[0],\n    keys: (parentKeys || []).concat(regexp.keys),\n    params,\n  };\n}\n\n/**\n * Universal Router (https://www.kriasoft.com/universal-router/)\n *\n * Copyright (c) 2015-present Kriasoft.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE.txt file in the root directory of this source tree.\n */\n\n/**\n * Traverses the routes tree and matches its nodes to the given pathname from\n * the root down to the leaves. Each match consumes a part of the pathname and\n * the matching process continues for as long as there is a matching child\n * route for the remaining part of the pathname.\n *\n * The returned value is a lazily evaluated iterator.\n *\n * The leading \"/\" in a route path matters only for the root of the routes\n * tree (or if all parent routes are \"\"). In all other cases a leading \"/\" in\n * a child route path has no significance.\n *\n * The trailing \"/\" in a _route path_ matters only for the leaves of the\n * routes tree. A leaf route with a trailing \"/\" matches only a pathname that\n * also has a trailing \"/\".\n *\n * The trailing \"/\" in a route path does not affect matching of child routes\n * in any way.\n *\n * The trailing \"/\" in a _pathname_ generally does not matter (except for\n * the case of leaf nodes described above).\n *\n * The \"\" and \"/\" routes have special treatment:\n *  1. as a single route\n *     the \"\" and \"/\" routes match only the \"\" and \"/\" pathnames respectively\n *  2. as a parent in the routes tree\n *     the \"\" route matches any pathname without consuming any part of it\n *     the \"/\" route matches any absolute pathname consuming its leading \"/\"\n *  3. as a leaf in the routes tree\n *     the \"\" and \"/\" routes match only if the entire pathname is consumed by\n *         the parent routes chain. In this case \"\" and \"/\" are equivalent.\n *  4. several directly nested \"\" or \"/\" routes\n *     - directly nested \"\" or \"/\" routes are 'squashed' (i.e. nesting two\n *       \"/\" routes does not require a double \"/\" in the pathname to match)\n *     - if there are only \"\" in the parent routes chain, no part of the\n *       pathname is consumed, and the leading \"/\" in the child routes' paths\n *       remains significant\n *\n * Side effect:\n *   - the routes tree { path: '' } matches only the '' pathname\n *   - the routes tree { path: '', children: [ { path: '' } ] } matches any\n *     pathname (for the tree root)\n *\n * Prefix matching can be enabled also by `children: true`.\n */\nfunction matchRoute(route, pathname, ignoreLeadingSlash, parentKeys, parentParams) {\n  let match;\n  let childMatches;\n  let childIndex = 0;\n  let routepath = route.path || '';\n  if (routepath.charAt(0) === '/') {\n    if (ignoreLeadingSlash) {\n      routepath = routepath.substr(1);\n    }\n    ignoreLeadingSlash = true;\n  }\n\n  return {\n    next(routeToSkip) {\n      if (route === routeToSkip) {\n        return {done: true};\n      }\n\n      const children = route.__children = route.__children || route.children;\n\n      if (!match) {\n        match = matchPath(routepath, pathname, !children, parentKeys, parentParams);\n\n        if (match) {\n          return {\n            done: false,\n            value: {\n              route,\n              keys: match.keys,\n              params: match.params,\n              path: match.path\n            },\n          };\n        }\n      }\n\n      if (match && children) {\n        while (childIndex < children.length) {\n          if (!childMatches) {\n            const childRoute = children[childIndex];\n            childRoute.parent = route;\n\n            let matchedLength = match.path.length;\n            if (matchedLength > 0 && pathname.charAt(matchedLength) === '/') {\n              matchedLength += 1;\n            }\n\n            childMatches = matchRoute(\n              childRoute,\n              pathname.substr(matchedLength),\n              ignoreLeadingSlash,\n              match.keys,\n              match.params\n            );\n          }\n\n          const childMatch = childMatches.next(routeToSkip);\n          if (!childMatch.done) {\n            return {\n              done: false,\n              value: childMatch.value,\n            };\n          }\n\n          childMatches = null;\n          childIndex++;\n        }\n      }\n\n      return {done: true};\n    },\n  };\n}\n\n/**\n * Universal Router (https://www.kriasoft.com/universal-router/)\n *\n * Copyright (c) 2015-present Kriasoft.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE.txt file in the root directory of this source tree.\n */\n\nfunction resolveRoute(context) {\n  if (isFunction(context.route.action)) {\n    return context.route.action(context);\n  }\n  return undefined;\n}\n\n/**\n * Universal Router (https://www.kriasoft.com/universal-router/)\n *\n * Copyright (c) 2015-present Kriasoft.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE.txt file in the root directory of this source tree.\n */\n\nfunction isChildRoute(parentRoute, childRoute) {\n  let route = childRoute;\n  while (route) {\n    route = route.parent;\n    if (route === parentRoute) {\n      return true;\n    }\n  }\n  return false;\n}\n\nfunction generateErrorMessage(currentContext) {\n  let errorMessage = `Path '${currentContext.pathname}' is not properly resolved due to an error.`;\n  const routePath = (currentContext.route || {}).path;\n  if (routePath) {\n    errorMessage += ` Resolution had failed on route: '${routePath}'`;\n  }\n  return errorMessage;\n}\n\nfunction updateChainForRoute(context, match) {\n  const {route, path} = match;\n\n  if (route && !route.__synthetic) {\n    const item = {path, route};\n    if (!context.chain) {\n      context.chain = [];\n    } else {\n      // Discard old items\n      if (route.parent) {\n        let i = context.chain.length;\n        while (i-- && context.chain[i].route && context.chain[i].route !== route.parent) {\n          context.chain.pop();\n        }\n      }\n    }\n    context.chain.push(item);\n  }\n}\n\n/**\n */\nclass Resolver {\n  constructor(routes, options = {}) {\n    if (Object(routes) !== routes) {\n      throw new TypeError('Invalid routes');\n    }\n\n    this.baseUrl = options.baseUrl || '';\n    this.errorHandler = options.errorHandler;\n    this.resolveRoute = options.resolveRoute || resolveRoute;\n    this.context = Object.assign({resolver: this}, options.context);\n    this.root = Array.isArray(routes) ? {path: '', __children: routes, parent: null, __synthetic: true} : routes;\n    this.root.parent = null;\n  }\n\n  /**\n   * Returns the current list of routes (as a shallow copy). Adding / removing\n   * routes to / from the returned array does not affect the routing config,\n   * but modifying the route objects does.\n   *\n   * @return {!Array<!Router.Route>}\n   */\n  getRoutes() {\n    return [...this.root.__children];\n  }\n\n  /**\n   * Sets the routing config (replacing the existing one).\n   *\n   * @param {!Array<!Router.Route>|!Router.Route} routes a single route or an array of those\n   *    (the array is shallow copied)\n   */\n  setRoutes(routes) {\n    ensureRoutes(routes);\n    const newRoutes = [...toArray(routes)];\n    this.root.__children = newRoutes;\n  }\n\n  /**\n   * Appends one or several routes to the routing config and returns the\n   * effective routing config after the operation.\n   *\n   * @param {!Array<!Router.Route>|!Router.Route} routes a single route or an array of those\n   *    (the array is shallow copied)\n   * @return {!Array<!Router.Route>}\n   * @protected\n   */\n  addRoutes(routes) {\n    ensureRoutes(routes);\n    this.root.__children.push(...toArray(routes));\n    return this.getRoutes();\n  }\n\n  /**\n   * Removes all existing routes from the routing config.\n   */\n  removeRoutes() {\n    this.setRoutes([]);\n  }\n\n  /**\n   * Asynchronously resolves the given pathname, i.e. finds all routes matching\n   * the pathname and tries resolving them one after another in the order they\n   * are listed in the routes config until the first non-null result.\n   *\n   * Returns a promise that is fulfilled with the return value of an object that consists of the first\n   * route handler result that returns something other than `null` or `undefined` and context used to get this result.\n   *\n   * If no route handlers return a non-null result, or if no route matches the\n   * given pathname the returned promise is rejected with a 'page not found'\n   * `Error`.\n   *\n   * @param {!string|!{pathname: !string}} pathnameOrContext the pathname to\n   *    resolve or a context object with a `pathname` property and other\n   *    properties to pass to the route resolver functions.\n   * @return {!Promise<any>}\n   */\n  resolve(pathnameOrContext) {\n    const context = Object.assign(\n      {},\n      this.context,\n      isString(pathnameOrContext) ? {pathname: pathnameOrContext} : pathnameOrContext\n    );\n    const match = matchRoute(\n      this.root,\n      this.__normalizePathname(context.pathname),\n      this.baseUrl\n    );\n    const resolve = this.resolveRoute;\n    let matches = null;\n    let nextMatches = null;\n    let currentContext = context;\n\n    function next(resume, parent = matches.value.route, prevResult) {\n      const routeToSkip = prevResult === null && matches.value.route;\n      matches = nextMatches || match.next(routeToSkip);\n      nextMatches = null;\n\n      if (!resume) {\n        if (matches.done || !isChildRoute(parent, matches.value.route)) {\n          nextMatches = matches;\n          return Promise.resolve(notFoundResult);\n        }\n      }\n\n      if (matches.done) {\n        return Promise.reject(getNotFoundError(context));\n      }\n\n      currentContext = Object.assign(\n        currentContext\n          ? {chain: (currentContext.chain ? currentContext.chain.slice(0) : [])}\n          : {},\n        context,\n        matches.value\n      );\n      updateChainForRoute(currentContext, matches.value);\n\n      return Promise.resolve(resolve(currentContext)).then(resolution => {\n        if (resolution !== null && resolution !== undefined && resolution !== notFoundResult) {\n          currentContext.result = resolution.result || resolution;\n          return currentContext;\n        }\n        return next(resume, parent, resolution);\n      });\n    }\n\n    context.next = next;\n\n    return Promise.resolve()\n      .then(() => next(true, this.root))\n      .catch((error) => {\n        const errorMessage = generateErrorMessage(currentContext);\n        if (!error) {\n          error = new Error(errorMessage);\n        } else {\n          console.warn(errorMessage);\n        }\n        error.context = error.context || currentContext;\n        // DOMException has its own code which is read-only\n        if (!(error instanceof DOMException)) {\n          error.code = error.code || 500;\n        }\n        if (this.errorHandler) {\n          currentContext.result = this.errorHandler(error);\n          return currentContext;\n        }\n        throw error;\n      });\n  }\n\n  /**\n   * URL constructor polyfill hook. Creates and returns an URL instance.\n   */\n  static __createUrl(url, base) {\n    return new URL(url, base);\n  }\n\n  /**\n   * If the baseUrl property is set, transforms the baseUrl and returns the full\n   * actual `base` string for using in the `new URL(path, base);` and for\n   * prepernding the paths with. The returned base ends with a trailing slash.\n   *\n   * Otherwise, returns empty string.\n   */\n  get __effectiveBaseUrl() {\n    return this.baseUrl\n      ? this.constructor.__createUrl(\n        this.baseUrl,\n        document.baseURI || document.URL\n      ).href.replace(/[^\\/]*$/, '')\n      : '';\n  }\n\n  /**\n   * If the baseUrl is set, matches the pathname with the router’s baseUrl,\n   * and returns the local pathname with the baseUrl stripped out.\n   *\n   * If the pathname does not match the baseUrl, returns undefined.\n   *\n   * If the `baseUrl` is not set, returns the unmodified pathname argument.\n   */\n  __normalizePathname(pathname) {\n    if (!this.baseUrl) {\n      // No base URL, no need to transform the pathname.\n      return pathname;\n    }\n\n    const base = this.__effectiveBaseUrl;\n    const normalizedUrl = this.constructor.__createUrl(pathname, base).href;\n    if (normalizedUrl.slice(0, base.length) === base) {\n      return normalizedUrl.slice(base.length);\n    }\n  }\n}\n\nResolver.pathToRegexp = pathToRegexp_1;\n\n/**\n * Universal Router (https://www.kriasoft.com/universal-router/)\n *\n * Copyright (c) 2015-present Kriasoft.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE.txt file in the root directory of this source tree.\n */\n\nconst {pathToRegexp: pathToRegexp$1} = Resolver;\nconst cache$1 = new Map();\n\nfunction cacheRoutes(routesByName, route, routes) {\n  const name = route.name || route.component;\n  if (name) {\n    if (routesByName.has(name)) {\n      routesByName.get(name).push(route);\n    } else {\n      routesByName.set(name, [route]);\n    }\n  }\n\n  if (Array.isArray(routes)) {\n    for (let i = 0; i < routes.length; i++) {\n      const childRoute = routes[i];\n      childRoute.parent = route;\n      cacheRoutes(routesByName, childRoute, childRoute.__children || childRoute.children);\n    }\n  }\n}\n\nfunction getRouteByName(routesByName, routeName) {\n  const routes = routesByName.get(routeName);\n  if (routes && routes.length > 1) {\n    throw new Error(\n      `Duplicate route with name \"${routeName}\".`\n      + ` Try seting unique 'name' route properties.`\n    );\n  }\n  return routes && routes[0];\n}\n\nfunction getRoutePath(route) {\n  let path = route.path;\n  path = Array.isArray(path) ? path[0] : path;\n  return path !== undefined ? path : '';\n}\n\nfunction generateUrls(router, options = {}) {\n  if (!(router instanceof Resolver)) {\n    throw new TypeError('An instance of Resolver is expected');\n  }\n\n  const routesByName = new Map();\n\n  return (routeName, params) => {\n    let route = getRouteByName(routesByName, routeName);\n    if (!route) {\n      routesByName.clear(); // clear cache\n      cacheRoutes(routesByName, router.root, router.root.__children);\n\n      route = getRouteByName(routesByName, routeName);\n      if (!route) {\n        throw new Error(`Route \"${routeName}\" not found`);\n      }\n    }\n\n    let regexp = cache$1.get(route.fullPath);\n    if (!regexp) {\n      let fullPath = getRoutePath(route);\n      let rt = route.parent;\n      while (rt) {\n        const path = getRoutePath(rt);\n        if (path) {\n          fullPath = path.replace(/\\/$/, '') + '/' + fullPath.replace(/^\\//, '');\n        }\n        rt = rt.parent;\n      }\n      const tokens = pathToRegexp$1.parse(fullPath);\n      const toPath = pathToRegexp$1.tokensToFunction(tokens);\n      const keys = Object.create(null);\n      for (let i = 0; i < tokens.length; i++) {\n        if (!isString(tokens[i])) {\n          keys[tokens[i].name] = true;\n        }\n      }\n      regexp = {toPath, keys};\n      cache$1.set(fullPath, regexp);\n      route.fullPath = fullPath;\n    }\n\n    let url = regexp.toPath(params, options) || '/';\n\n    if (options.stringifyQueryParams && params) {\n      const queryParams = {};\n      const keys = Object.keys(params);\n      for (let i = 0; i < keys.length; i++) {\n        const key = keys[i];\n        if (!regexp.keys[key]) {\n          queryParams[key] = params[key];\n        }\n      }\n      const query = options.stringifyQueryParams(queryParams);\n      if (query) {\n        url += query.charAt(0) === '?' ? query : `?${query}`;\n      }\n    }\n\n    return url;\n  };\n}\n\n/**\n * @typedef NavigationTrigger\n * @type {object}\n * @property {function()} activate\n * @property {function()} inactivate\n */\n\n/** @type {Array<NavigationTrigger>} */\nlet triggers = [];\n\nfunction setNavigationTriggers(newTriggers) {\n  triggers.forEach(trigger => trigger.inactivate());\n\n  newTriggers.forEach(trigger => trigger.activate());\n\n  triggers = newTriggers;\n}\n\nconst willAnimate = elem => {\n  const name = getComputedStyle(elem).getPropertyValue('animation-name');\n  return name && name !== 'none';\n};\n\nconst waitForAnimation = (elem, cb) => {\n  const listener = () => {\n    elem.removeEventListener('animationend', listener);\n    cb();\n  };\n  elem.addEventListener('animationend', listener);\n};\n\nfunction animate(elem, className) {\n  elem.classList.add(className);\n\n  return new Promise(resolve => {\n    if (willAnimate(elem)) {\n      const rect = elem.getBoundingClientRect();\n      const size = `height: ${rect.bottom - rect.top}px; width: ${rect.right - rect.left}px`;\n      elem.setAttribute('style', `position: absolute; ${size}`);\n      waitForAnimation(elem, () => {\n        elem.classList.remove(className);\n        elem.removeAttribute('style');\n        resolve();\n      });\n    } else {\n      elem.classList.remove(className);\n      resolve();\n    }\n  });\n}\n\nconst MAX_REDIRECT_COUNT = 256;\n\nfunction isResultNotEmpty(result) {\n  return result !== null && result !== undefined;\n}\n\nfunction copyContextWithoutNext(context) {\n  const copy = Object.assign({}, context);\n  delete copy.next;\n  return copy;\n}\n\nfunction createLocation({pathname = '', search = '', hash = '', chain = [], params = {}, redirectFrom, resolver}, route) {\n  const routes = chain.map(item => item.route);\n  return {\n    baseUrl: resolver && resolver.baseUrl || '',\n    pathname,\n    search,\n    hash,\n    routes,\n    route: route || routes.length && routes[routes.length - 1] || null,\n    params,\n    redirectFrom,\n    getUrl: (userParams = {}) => getPathnameForRouter(\n      Router.pathToRegexp.compile(\n        getMatchedPath(routes)\n      )(Object.assign({}, params, userParams)),\n      resolver\n    )\n  };\n}\n\nfunction createRedirect(context, pathname) {\n  const params = Object.assign({}, context.params);\n  return {\n    redirect: {\n      pathname,\n      from: context.pathname,\n      params\n    }\n  };\n}\n\nfunction renderElement(context, element) {\n  element.location = createLocation(context);\n  const index = context.chain.map(item => item.route).indexOf(context.route);\n  context.chain[index].element = element;\n  return element;\n}\n\nfunction runCallbackIfPossible(callback, args, thisArg) {\n  if (isFunction(callback)) {\n    return callback.apply(thisArg, args);\n  }\n}\n\nfunction amend(amendmentFunction, args, element) {\n  return amendmentResult => {\n    if (amendmentResult && (amendmentResult.cancel || amendmentResult.redirect)) {\n      return amendmentResult;\n    }\n\n    if (element) {\n      return runCallbackIfPossible(element[amendmentFunction], args, element);\n    }\n  };\n}\n\nfunction processNewChildren(newChildren, route) {\n  if (!Array.isArray(newChildren) && !isObject(newChildren)) {\n    throw new Error(\n      log(\n        `Incorrect \"children\" value for the route ${route.path}: expected array or object, but got ${newChildren}`\n      )\n    );\n  }\n\n  route.__children = [];\n  const childRoutes = toArray(newChildren);\n  for (let i = 0; i < childRoutes.length; i++) {\n    ensureRoute(childRoutes[i]);\n    route.__children.push(childRoutes[i]);\n  }\n}\n\nfunction removeDomNodes(nodes) {\n  if (nodes && nodes.length) {\n    const parent = nodes[0].parentNode;\n    for (let i = 0; i < nodes.length; i++) {\n      parent.removeChild(nodes[i]);\n    }\n  }\n}\n\nfunction getPathnameForRouter(pathname, router) {\n  const base = router.__effectiveBaseUrl;\n  return base\n    ? router.constructor.__createUrl(pathname.replace(/^\\//, ''), base).pathname\n    : pathname;\n}\n\nfunction getMatchedPath(chain) {\n  return chain.map(item => item.path).reduce((a, b) => {\n    if (b.length) {\n      return a.replace(/\\/$/, '') + '/' + b.replace(/^\\//, '');\n    }\n    return a;\n  }, '');\n}\n\n/**\n * A simple client-side router for single-page applications. It uses\n * express-style middleware and has a first-class support for Web Components and\n * lazy-loading. Works great in Polymer and non-Polymer apps.\n *\n * Use `new Router(outlet, options)` to create a new Router instance.\n *\n * * The `outlet` parameter is a reference to the DOM node to render\n *   the content into.\n *\n * * The `options` parameter is an optional object with options. The following\n *   keys are supported:\n *   * `baseUrl` — the initial value for [\n *     the `baseUrl` property\n *   ](#/classes/Router#property-baseUrl)\n *\n * The Router instance is automatically subscribed to navigation events\n * on `window`.\n *\n * See [Live Examples](#/classes/Router/demos/demo/index.html) for the detailed usage demo and code snippets.\n *\n * See also detailed API docs for the following methods, for the advanced usage:\n *\n * * [setOutlet](#/classes/Router#method-setOutlet) – should be used to configure the outlet.\n * * [setTriggers](#/classes/Router#method-setTriggers) – should be used to configure the navigation events.\n * * [setRoutes](#/classes/Router#method-setRoutes) – should be used to configure the routes.\n *\n * Only `setRoutes` has to be called manually, others are automatically invoked when creating a new instance.\n *\n * @extends Resolver\n * @demo demo/index.html\n * @summary JavaScript class that renders different DOM content depending on\n *    a given path. It can re-render when triggered or automatically on\n *    'popstate' and / or 'click' events.\n */\nclass Router extends Resolver {\n\n  /**\n   * Creates a new Router instance with a given outlet, and\n   * automatically subscribes it to navigation events on the `window`.\n   * Using a constructor argument or a setter for outlet is equivalent:\n   *\n   * ```\n   * const router = new Router();\n   * router.setOutlet(outlet);\n   * ```\n   * @param {?Node=} outlet\n   * @param {?RouterOptions=} options\n   */\n  constructor(outlet, options) {\n    const baseElement = document.head.querySelector('base');\n    const baseHref = baseElement && baseElement.getAttribute('href');\n    super([], Object.assign({\n      // Default options\n      baseUrl: baseHref && Resolver.__createUrl(baseHref, document.URL).pathname.replace(/[^\\/]*$/, '')\n    }, options));\n\n    this.resolveRoute = context => this.__resolveRoute(context);\n\n    const triggers = Router.NavigationTrigger;\n    Router.setTriggers.apply(Router, Object.keys(triggers).map(key => triggers[key]));\n\n    /**\n     * The base URL for all routes in the router instance. By default,\n     * if the base element exists in the `<head>`, vaadin-router\n     * takes the `<base href>` attribute value, resolves against current `document.URL`\n     * and gets the `pathname` from the result.\n     *\n     * @public\n     * @type {string}\n     */\n    this.baseUrl;\n\n    /**\n     * A promise that is settled after the current render cycle completes. If\n     * there is no render cycle in progress the promise is immediately settled\n     * with the last render cycle result.\n     *\n     * @public\n     * @type {!Promise<!RouterLocation>}\n     */\n    this.ready;\n    this.ready = Promise.resolve(outlet);\n\n    /**\n     * Contains read-only information about the current router location:\n     * pathname, active routes, parameters. See the\n     * [Location type declaration](#/classes/RouterLocation)\n     * for more details.\n     *\n     * @public\n     * @type {!RouterLocation}\n     */\n    this.location;\n    this.location = createLocation({resolver: this});\n\n    this.__lastStartedRenderId = 0;\n    this.__navigationEventHandler = this.__onNavigationEvent.bind(this);\n    this.setOutlet(outlet);\n    this.subscribe();\n    // Using WeakMap instead of WeakSet because WeakSet is not supported by IE11\n    this.__createdByRouter = new WeakMap();\n    this.__addedByRouter = new WeakMap();\n  }\n\n  __resolveRoute(context) {\n    const route = context.route;\n\n    let callbacks = Promise.resolve();\n\n    if (isFunction(route.children)) {\n      callbacks = callbacks\n        .then(() => route.children(copyContextWithoutNext(context)))\n        .then(children => {\n          // The route.children() callback might have re-written the\n          // route.children property instead of returning a value\n          if (!isResultNotEmpty(children) && !isFunction(route.children)) {\n            children = route.children;\n          }\n          processNewChildren(children, route);\n        });\n    }\n\n    const commands = {\n      redirect: path => createRedirect(context, path),\n      component: (component) => {\n        const element = document.createElement(component);\n        this.__createdByRouter.set(element, true);\n        return element;\n      }\n    };\n\n    return callbacks\n      .then(() => {\n        if (this.__isLatestRender(context)) {\n          return runCallbackIfPossible(route.action, [context, commands], route);\n        }\n      })\n      .then(result => {\n        if (isResultNotEmpty(result)) {\n          // Actions like `() => import('my-view.js')` are not expected to\n          // end the resolution, despite the result is not empty. Checking\n          // the result with a whitelist of values that end the resolution.\n          if (result instanceof HTMLElement ||\n              result.redirect ||\n              result === notFoundResult) {\n            return result;\n          }\n        }\n\n        if (isString(route.redirect)) {\n          return commands.redirect(route.redirect);\n        }\n\n        if (route.bundle) {\n          return loadBundle(route.bundle)\n            .then(() => {}, () => {\n              throw new Error(log(`Bundle not found: ${route.bundle}. Check if the file name is correct`));\n            });\n        }\n      })\n      .then(result => {\n        if (isResultNotEmpty(result)) {\n          return result;\n        }\n        if (isString(route.component)) {\n          return commands.component(route.component);\n        }\n      });\n  }\n\n  /**\n   * Sets the router outlet (the DOM node where the content for the current\n   * route is inserted). Any content pre-existing in the router outlet is\n   * removed at the end of each render pass.\n   *\n   * NOTE: this method is automatically invoked first time when creating a new Router instance.\n   *\n   * @param {?Node} outlet the DOM node where the content for the current route\n   *     is inserted.\n   */\n  setOutlet(outlet) {\n    if (outlet) {\n      this.__ensureOutlet(outlet);\n    }\n    this.__outlet = outlet;\n  }\n\n  /**\n   * Returns the current router outlet. The initial value is `undefined`.\n   *\n   * @return {?Node} the current router outlet (or `undefined`)\n   */\n  getOutlet() {\n    return this.__outlet;\n  }\n\n  /**\n   * Sets the routing config (replacing the existing one) and triggers a\n   * navigation event so that the router outlet is refreshed according to the\n   * current `window.location` and the new routing config.\n   *\n   * Each route object may have the following properties, listed here in the processing order:\n   * * `path` – the route path (relative to the parent route if any) in the\n   * [express.js syntax](https://expressjs.com/en/guide/routing.html#route-paths\").\n   *\n   * * `children` – an array of nested routes or a function that provides this\n   * array at the render time. The function can be synchronous or asynchronous:\n   * in the latter case the render is delayed until the returned promise is\n   * resolved. The `children` function is executed every time when this route is\n   * being rendered. This allows for dynamic route structures (e.g. backend-defined),\n   * but it might have a performance impact as well. In order to avoid calling\n   * the function on subsequent renders, you can override the `children` property\n   * of the route object and save the calculated array there\n   * (via `context.route.children = [ route1, route2, ...];`).\n   * Parent routes are fully resolved before resolving the children. Children\n   * 'path' values are relative to the parent ones.\n   *\n   * * `action` – the action that is executed before the route is resolved.\n   * The value for this property should be a function, accepting `context`\n   * and `commands` parameters described below. If present, this function is\n   * always invoked first, disregarding of the other properties' presence.\n   * The action can return a result directly or within a `Promise`, which\n   * resolves to the result. If the action result is an `HTMLElement` instance,\n   * a `commands.component(name)` result, a `commands.redirect(path)` result,\n   * or a `context.next()` result, the current route resolution is finished,\n   * and other route config properties are ignored.\n   * See also **Route Actions** section in [Live Examples](#/classes/Router/demos/demo/index.html).\n   *\n   * * `redirect` – other route's path to redirect to. Passes all route parameters to the redirect target.\n   * The target route should also be defined.\n   * See also **Redirects** section in [Live Examples](#/classes/Router/demos/demo/index.html).\n   *\n   * * `bundle` – string containing the path to `.js` or `.mjs` bundle to load before resolving the route,\n   * or the object with \"module\" and \"nomodule\" keys referring to different bundles.\n   * Each bundle is only loaded once. If \"module\" and \"nomodule\" are set, only one bundle is loaded,\n   * depending on whether the browser supports ES modules or not.\n   * The property is ignored when either an `action` returns the result or `redirect` property is present.\n   * Any error, e.g. 404 while loading bundle will cause route resolution to throw.\n   * See also **Code Splitting** section in [Live Examples](#/classes/Router/demos/demo/index.html).\n   *\n   * * `component` – the tag name of the Web Component to resolve the route to.\n   * The property is ignored when either an `action` returns the result or `redirect` property is present.\n   * If route contains the `component` property (or an action that return a component)\n   * and its child route also contains the `component` property, child route's component\n   * will be rendered as a light dom child of a parent component.\n   *\n   * * `name` – the string name of the route to use in the\n   * [`router.urlForName(name, params)`](#/classes/Router#method-urlForName)\n   * navigation helper method.\n   *\n   * For any route function (`action`, `children`) defined, the corresponding `route` object is available inside the callback\n   * through the `this` reference. If you need to access it, make sure you define the callback as a non-arrow function\n   * because arrow functions do not have their own `this` reference.\n   *\n   * `context` object that is passed to `action` function holds the following properties:\n   * * `context.pathname` – string with the pathname being resolved\n   *\n   * * `context.search` – search query string\n   *\n   * * `context.hash` – hash string\n   *\n   * * `context.params` – object with route parameters\n   *\n   * * `context.route` – object that holds the route that is currently being rendered.\n   *\n   * * `context.next()` – function for asynchronously getting the next route\n   * contents from the resolution chain (if any)\n   *\n   * `commands` object that is passed to `action` function has\n   * the following methods:\n   *\n   * * `commands.redirect(path)` – function that creates a redirect data\n   * for the path specified.\n   *\n   * * `commands.component(component)` – function that creates a new HTMLElement\n   * with current context. Note: the component created by this function is reused if visiting the same path twice in row.\n   *\n   *\n   * @param {!Array<!Route>|!Route} routes a single route or an array of those\n   * @param {?boolean} skipRender configure the router but skip rendering the\n   *     route corresponding to the current `window.location` values\n   *\n   * @return {!Promise<!Node>}\n   */\n  setRoutes(routes, skipRender = false) {\n    this.__previousContext = undefined;\n    this.__urlForName = undefined;\n    super.setRoutes(routes);\n    if (!skipRender) {\n      this.__onNavigationEvent();\n    }\n    return this.ready;\n  }\n\n  /**\n   * Asynchronously resolves the given pathname and renders the resolved route\n   * component into the router outlet. If no router outlet is set at the time of\n   * calling this method, or at the time when the route resolution is completed,\n   * a `TypeError` is thrown.\n   *\n   * Returns a promise that is fulfilled with the router outlet DOM Node after\n   * the route component is created and inserted into the router outlet, or\n   * rejected if no route matches the given path.\n   *\n   * If another render pass is started before the previous one is completed, the\n   * result of the previous render pass is ignored.\n   *\n   * @param {!string|!{pathname: !string, search: ?string, hash: ?string}} pathnameOrContext\n   *    the pathname to render or a context object with a `pathname` property,\n   *    optional `search` and `hash` properties, and other properties\n   *    to pass to the resolver.\n   * @param {boolean=} shouldUpdateHistory\n   *    update browser history with the rendered location\n   * @return {!Promise<!Node>}\n   */\n  render(pathnameOrContext, shouldUpdateHistory) {\n    const renderId = ++this.__lastStartedRenderId;\n    const context = Object.assign(\n      {\n        search: '',\n        hash: ''\n      },\n      isString(pathnameOrContext)\n        ? {pathname: pathnameOrContext}\n        : pathnameOrContext,\n      {\n        __renderId: renderId\n      }\n    );\n\n    // Find the first route that resolves to a non-empty result\n    this.ready = this.resolve(context)\n\n      // Process the result of this.resolve() and handle all special commands:\n      // (redirect / prevent / component). If the result is a 'component',\n      // then go deeper and build the entire chain of nested components matching\n      // the pathname. Also call all 'on before' callbacks along the way.\n      .then(context => this.__fullyResolveChain(context))\n\n      .then(context => {\n        if (this.__isLatestRender(context)) {\n          const previousContext = this.__previousContext;\n\n          // Check if the render was prevented and make an early return in that case\n          if (context === previousContext) {\n            // Replace the history with the previous context\n            // to make sure the URL stays the same.\n            this.__updateBrowserHistory(previousContext, true);\n            return this.location;\n          }\n\n          this.location = createLocation(context);\n\n          if (shouldUpdateHistory) {\n            // Replace only if first render redirects, so that we don’t leave\n            // the redirecting record in the history\n            this.__updateBrowserHistory(context, renderId === 1);\n          }\n\n          fireRouterEvent('location-changed', {router: this, location: this.location});\n\n          // Skip detaching/re-attaching there are no render changes\n          if (context.__skipAttach) {\n            this.__copyUnchangedElements(context, previousContext);\n            this.__previousContext = context;\n            return this.location;\n          }\n\n          this.__addAppearingContent(context, previousContext);\n          const animationDone = this.__animateIfNeeded(context);\n\n          this.__runOnAfterEnterCallbacks(context);\n          this.__runOnAfterLeaveCallbacks(context, previousContext);\n\n          return animationDone.then(() => {\n            if (this.__isLatestRender(context)) {\n              // If there is another render pass started after this one,\n              // the 'disappearing content' would be removed when the other\n              // render pass calls `this.__addAppearingContent()`\n              this.__removeDisappearingContent();\n\n              this.__previousContext = context;\n              return this.location;\n            }\n          });\n        }\n      })\n      .catch(error => {\n        if (renderId === this.__lastStartedRenderId) {\n          if (shouldUpdateHistory) {\n            this.__updateBrowserHistory(context);\n          }\n          removeDomNodes(this.__outlet && this.__outlet.children);\n          this.location = createLocation(Object.assign(context, {resolver: this}));\n          fireRouterEvent('error', Object.assign({router: this, error}, context));\n          throw error;\n        }\n      });\n    return this.ready;\n  }\n\n  // `topOfTheChainContextBeforeRedirects` is a context coming from Resolver.resolve().\n  // It would contain a 'redirect' route or the first 'component' route that\n  // matched the pathname. There might be more child 'component' routes to be\n  // resolved and added into the chain. This method would find and add them.\n  // `contextBeforeRedirects` is the context containing such a child component\n  // route. It's only necessary when this method is called recursively (otherwise\n  // it's the same as the 'top of the chain' context).\n  //\n  // Apart from building the chain of child components, this method would also\n  // handle 'redirect' routes, call 'onBefore' callbacks and handle 'prevent'\n  // and 'redirect' callback results.\n  __fullyResolveChain(topOfTheChainContextBeforeRedirects,\n    contextBeforeRedirects = topOfTheChainContextBeforeRedirects) {\n    return this.__findComponentContextAfterAllRedirects(contextBeforeRedirects)\n      // `contextAfterRedirects` is always a context with an `HTMLElement` result\n      // In other cases the promise gets rejected and .then() is not called\n      .then(contextAfterRedirects => {\n        const redirectsHappened = contextAfterRedirects !== contextBeforeRedirects;\n        const topOfTheChainContextAfterRedirects =\n          redirectsHappened ? contextAfterRedirects : topOfTheChainContextBeforeRedirects;\n\n        const matchedPath = getPathnameForRouter(\n          getMatchedPath(contextAfterRedirects.chain),\n          contextAfterRedirects.resolver\n        );\n        const isFound = (matchedPath === contextAfterRedirects.pathname);\n\n        // Recursive method to try matching more child and sibling routes\n        const findNextContextIfAny = (context, parent = context.route, prevResult) => {\n          return context.next(undefined, parent, prevResult).then(nextContext => {\n            if (nextContext === null || nextContext === notFoundResult) {\n              // Next context is not found in children, ...\n              if (isFound) {\n                // ...but original context is already fully matching - use it\n                return context;\n              } else if (parent.parent !== null) {\n                // ...and there is no full match yet - step up to check siblings\n                return findNextContextIfAny(context, parent.parent, nextContext);\n              } else {\n                return nextContext;\n              }\n            }\n\n            return nextContext;\n          });\n        };\n\n        return findNextContextIfAny(contextAfterRedirects).then(nextContext => {\n          if (nextContext === null || nextContext === notFoundResult) {\n            throw getNotFoundError(topOfTheChainContextAfterRedirects);\n          }\n\n          return nextContext\n          && nextContext !== notFoundResult\n          && nextContext !== contextAfterRedirects\n            ? this.__fullyResolveChain(topOfTheChainContextAfterRedirects, nextContext)\n            : this.__amendWithOnBeforeCallbacks(contextAfterRedirects);\n        });\n      });\n  }\n\n  __findComponentContextAfterAllRedirects(context) {\n    const result = context.result;\n    if (result instanceof HTMLElement) {\n      renderElement(context, result);\n      return Promise.resolve(context);\n    } else if (result.redirect) {\n      return this.__redirect(result.redirect, context.__redirectCount, context.__renderId)\n        .then(context => this.__findComponentContextAfterAllRedirects(context));\n    } else if (result instanceof Error) {\n      return Promise.reject(result);\n    } else {\n      return Promise.reject(\n        new Error(\n          log(\n            `Invalid route resolution result for path \"${context.pathname}\". ` +\n            `Expected redirect object or HTML element, but got: \"${logValue(result)}\". ` +\n            `Double check the action return value for the route.`\n          )\n        ));\n    }\n  }\n\n  __amendWithOnBeforeCallbacks(contextWithFullChain) {\n    return this.__runOnBeforeCallbacks(contextWithFullChain).then(amendedContext => {\n      if (amendedContext === this.__previousContext || amendedContext === contextWithFullChain) {\n        return amendedContext;\n      }\n      return this.__fullyResolveChain(amendedContext);\n    });\n  }\n\n  __runOnBeforeCallbacks(newContext) {\n    const previousContext = this.__previousContext || {};\n    const previousChain = previousContext.chain || [];\n    const newChain = newContext.chain;\n\n    let callbacks = Promise.resolve();\n    const prevent = () => ({cancel: true});\n    const redirect = (pathname) => createRedirect(newContext, pathname);\n\n    newContext.__divergedChainIndex = 0;\n    newContext.__skipAttach = false;\n    if (previousChain.length) {\n      for (let i = 0; i < Math.min(previousChain.length, newChain.length); i = ++newContext.__divergedChainIndex) {\n        if (previousChain[i].route !== newChain[i].route\n          || previousChain[i].path !== newChain[i].path && previousChain[i].element !== newChain[i].element\n          || !this.__isReusableElement(previousChain[i].element, newChain[i].element)) {\n          break;\n        }\n      }\n\n      // Skip re-attaching and notifications if element and chain do not change\n      newContext.__skipAttach =\n        // Same route chain\n        newChain.length === previousChain.length && newContext.__divergedChainIndex == newChain.length &&\n        // Same element\n        this.__isReusableElement(newContext.result, previousContext.result);\n\n      if (newContext.__skipAttach) {\n        // execute onBeforeLeave for changed segment element when skipping attach\n        for (let i = newChain.length - 1; i >= 0; i--) {\n          callbacks = this.__runOnBeforeLeaveCallbacks(callbacks, newContext, {prevent}, previousChain[i]);\n        }\n        // execute onBeforeEnter for changed segment element when skipping attach\n        for (let i = 0; i < newChain.length; i++) {\n          callbacks = this.__runOnBeforeEnterCallbacks(callbacks, newContext, {prevent, redirect}, newChain[i]);\n          previousChain[i].element.location = createLocation(newContext, previousChain[i].route);\n        }\n\n      } else {\n        // execute onBeforeLeave when NOT skipping attach\n        for (let i = previousChain.length - 1; i >= newContext.__divergedChainIndex; i--) {\n          callbacks = this.__runOnBeforeLeaveCallbacks(callbacks, newContext, {prevent}, previousChain[i]);\n        }\n      }\n    }\n    // execute onBeforeEnter when NOT skipping attach\n    if (!newContext.__skipAttach) {\n      for (let i = 0; i < newChain.length; i++) {\n        if (i < newContext.__divergedChainIndex) {\n          if (i < previousChain.length && previousChain[i].element) {\n            previousChain[i].element.location = createLocation(newContext, previousChain[i].route);\n          }\n        } else {\n          callbacks = this.__runOnBeforeEnterCallbacks(callbacks, newContext, {prevent, redirect}, newChain[i]);\n          if (newChain[i].element) {\n            newChain[i].element.location = createLocation(newContext, newChain[i].route);\n          }\n        }\n      }\n    }\n    return callbacks.then(amendmentResult => {\n      if (amendmentResult) {\n        if (amendmentResult.cancel) {\n          this.__previousContext.__renderId = newContext.__renderId;\n          return this.__previousContext;\n        }\n        if (amendmentResult.redirect) {\n          return this.__redirect(amendmentResult.redirect, newContext.__redirectCount, newContext.__renderId);\n        }\n      }\n      return newContext;\n    });\n  }\n\n  __runOnBeforeLeaveCallbacks(callbacks, newContext, commands, chainElement) {\n    const location = createLocation(newContext);\n    return callbacks.then(result => {\n      if (this.__isLatestRender(newContext)) {\n        const afterLeaveFunction = amend('onBeforeLeave', [location, commands, this], chainElement.element);\n        return afterLeaveFunction(result);\n      }\n    }).then(result => {\n      if (!(result || {}).redirect) {\n        return result;\n      }\n    });\n  }\n\n  __runOnBeforeEnterCallbacks(callbacks, newContext, commands, chainElement) {\n    const location = createLocation(newContext, chainElement.route);\n    return callbacks.then(result => {\n      if (this.__isLatestRender(newContext)) {\n        const beforeEnterFunction = amend('onBeforeEnter', [location, commands, this], chainElement.element);\n        return beforeEnterFunction(result);\n      }\n    });\n  }\n\n  __isReusableElement(element, otherElement) {\n    if (element && otherElement) {\n      return this.__createdByRouter.get(element) && this.__createdByRouter.get(otherElement)\n        ? element.localName === otherElement.localName\n        : element === otherElement;\n    }\n    return false;\n  }\n\n  __isLatestRender(context) {\n    return context.__renderId === this.__lastStartedRenderId;\n  }\n\n  __redirect(redirectData, counter, renderId) {\n    if (counter > MAX_REDIRECT_COUNT) {\n      throw new Error(log(`Too many redirects when rendering ${redirectData.from}`));\n    }\n\n    return this.resolve({\n      pathname: this.urlForPath(\n        redirectData.pathname,\n        redirectData.params\n      ),\n      redirectFrom: redirectData.from,\n      __redirectCount: (counter || 0) + 1,\n      __renderId: renderId\n    });\n  }\n\n  __ensureOutlet(outlet = this.__outlet) {\n    if (!(outlet instanceof Node)) {\n      throw new TypeError(log(`Expected router outlet to be a valid DOM Node (but got ${outlet})`));\n    }\n  }\n\n  __updateBrowserHistory({pathname, search = '', hash = ''}, replace) {\n    if (window.location.pathname !== pathname\n        || window.location.search !== search\n        || window.location.hash !== hash\n    ) {\n      const changeState = replace ? 'replaceState' : 'pushState';\n      window.history[changeState](null, document.title, pathname + search + hash);\n      window.dispatchEvent(new PopStateEvent('popstate', {state: 'vaadin-router-ignore'}));\n    }\n  }\n\n  __copyUnchangedElements(context, previousContext) {\n    // Find the deepest common parent between the last and the new component\n    // chains. Update references for the unchanged elements in the new chain\n    let deepestCommonParent = this.__outlet;\n    for (let i = 0; i < context.__divergedChainIndex; i++) {\n      const unchangedElement = previousContext && previousContext.chain[i].element;\n      if (unchangedElement) {\n        if (unchangedElement.parentNode === deepestCommonParent) {\n          context.chain[i].element = unchangedElement;\n          deepestCommonParent = unchangedElement;\n        } else {\n          break;\n        }\n      }\n    }\n    return deepestCommonParent;\n  }\n\n  __addAppearingContent(context, previousContext) {\n    this.__ensureOutlet();\n\n    // If the previous 'entering' animation has not completed yet,\n    // stop it and remove that content from the DOM before adding new one.\n    this.__removeAppearingContent();\n\n    // Copy reusable elements from the previousContext to current\n    const deepestCommonParent = this.__copyUnchangedElements(context, previousContext);\n\n    // Keep two lists of DOM elements:\n    //  - those that should be removed once the transition animation is over\n    //  - and those that should remain\n    this.__appearingContent = [];\n    this.__disappearingContent = Array\n      .from(deepestCommonParent.children)\n      .filter(\n        // Only remove layout content that was added by router\n        e => this.__addedByRouter.get(e) &&\n        // Do not remove the result element to avoid flickering\n        e !== context.result);\n\n    // Add new elements (starting after the deepest common parent) to the DOM.\n    // That way only the components that are actually different between the two\n    // locations are added to the DOM (and those that are common remain in the\n    // DOM without first removing and then adding them again).\n    let parentElement = deepestCommonParent;\n    for (let i = context.__divergedChainIndex; i < context.chain.length; i++) {\n      const elementToAdd = context.chain[i].element;\n      if (elementToAdd) {\n        parentElement.appendChild(elementToAdd);\n        this.__addedByRouter.set(elementToAdd, true);\n        if (parentElement === deepestCommonParent) {\n          this.__appearingContent.push(elementToAdd);\n        }\n        parentElement = elementToAdd;\n      }\n    }\n  }\n\n  __removeDisappearingContent() {\n    if (this.__disappearingContent) {\n      removeDomNodes(this.__disappearingContent);\n    }\n    this.__disappearingContent = null;\n    this.__appearingContent = null;\n  }\n\n  __removeAppearingContent() {\n    if (this.__disappearingContent && this.__appearingContent) {\n      removeDomNodes(this.__appearingContent);\n      this.__disappearingContent = null;\n      this.__appearingContent = null;\n    }\n  }\n\n  __runOnAfterLeaveCallbacks(currentContext, targetContext) {\n    if (!targetContext) {\n      return;\n    }\n\n    // REVERSE iteration: from Z to A\n    for (let i = targetContext.chain.length - 1; i >= currentContext.__divergedChainIndex; i--) {\n      if (!this.__isLatestRender(currentContext)) {\n        break;\n      }\n      const currentComponent = targetContext.chain[i].element;\n      if (!currentComponent) {\n        continue;\n      }\n      try {\n        const location = createLocation(currentContext);\n        runCallbackIfPossible(\n          currentComponent.onAfterLeave,\n          [location, {}, targetContext.resolver],\n          currentComponent);\n      } finally {\n        if (this.__disappearingContent.indexOf(currentComponent) > -1) {\n          removeDomNodes(currentComponent.children);\n        }\n      }\n    }\n  }\n\n  __runOnAfterEnterCallbacks(currentContext) {\n    // forward iteration: from A to Z\n    for (let i = currentContext.__divergedChainIndex; i < currentContext.chain.length; i++) {\n      if (!this.__isLatestRender(currentContext)) {\n        break;\n      }\n      const currentComponent = currentContext.chain[i].element || {};\n      const location = createLocation(currentContext, currentContext.chain[i].route);\n      runCallbackIfPossible(\n        currentComponent.onAfterEnter,\n        [location, {}, currentContext.resolver],\n        currentComponent);\n    }\n  }\n\n  __animateIfNeeded(context) {\n    const from = (this.__disappearingContent || [])[0];\n    const to = (this.__appearingContent || [])[0];\n    const promises = [];\n\n    const chain = context.chain;\n    let config;\n    for (let i = chain.length; i > 0; i--) {\n      if (chain[i - 1].route.animate) {\n        config = chain[i - 1].route.animate;\n        break;\n      }\n    }\n\n    if (from && to && config) {\n      const leave = isObject(config) && config.leave || 'leaving';\n      const enter = isObject(config) && config.enter || 'entering';\n      promises.push(animate(from, leave));\n      promises.push(animate(to, enter));\n    }\n\n    return Promise.all(promises).then(() => context);\n  }\n\n  /**\n   * Subscribes this instance to navigation events on the `window`.\n   *\n   * NOTE: beware of resource leaks. For as long as a router instance is\n   * subscribed to navigation events, it won't be garbage collected.\n   */\n  subscribe() {\n    window.addEventListener('vaadin-router-go', this.__navigationEventHandler);\n  }\n\n  /**\n   * Removes the subscription to navigation events created in the `subscribe()`\n   * method.\n   */\n  unsubscribe() {\n    window.removeEventListener('vaadin-router-go', this.__navigationEventHandler);\n  }\n\n  __onNavigationEvent(event) {\n    const {pathname, search, hash} = event ? event.detail : window.location;\n    if (isString(this.__normalizePathname(pathname))) {\n      if (event && event.preventDefault) {\n        event.preventDefault();\n      }\n      this.render({pathname, search, hash}, true);\n    }\n  }\n\n  /**\n   * Configures what triggers Router navigation events:\n   *  - `POPSTATE`: popstate events on the current `window`\n   *  - `CLICK`: click events on `<a>` links leading to the current page\n   *\n   * This method is invoked with the pre-configured values when creating a new Router instance.\n   * By default, both `POPSTATE` and `CLICK` are enabled. This setup is expected to cover most of the use cases.\n   *\n   * See the `router-config.js` for the default navigation triggers config. Based on it, you can\n   * create the own one and only import the triggers you need, instead of pulling in all the code,\n   * e.g. if you want to handle `click` differently.\n   *\n   * See also **Navigation Triggers** section in [Live Examples](#/classes/Router/demos/demo/index.html).\n   *\n   * @param {...NavigationTrigger} triggers\n   */\n  static setTriggers(...triggers) {\n    setNavigationTriggers(triggers);\n  }\n\n  /**\n   * Generates a URL for the route with the given name, optionally performing\n   * substitution of parameters.\n   *\n   * The route is searched in all the Router instances subscribed to\n   * navigation events.\n   *\n   * **Note:** For child route names, only array children are considered.\n   * It is not possible to generate URLs using a name for routes set with\n   * a children function.\n   *\n   * @function urlForName\n   * @param {!string} name the route name or the route’s `component` name.\n   * @param {Params=} params Optional object with route path parameters.\n   * Named parameters are passed by name (`params[name] = value`), unnamed\n   * parameters are passed by index (`params[index] = value`).\n   *\n   * @return {string}\n   */\n  urlForName(name, params) {\n    if (!this.__urlForName) {\n      this.__urlForName = generateUrls(this);\n    }\n    return getPathnameForRouter(\n      this.__urlForName(name, params),\n      this\n    );\n  }\n\n  /**\n   * Generates a URL for the given route path, optionally performing\n   * substitution of parameters.\n   *\n   * @param {!string} path string route path declared in [express.js syntax](https://expressjs.com/en/guide/routing.html#route-paths\").\n   * @param {Params=} params Optional object with route path parameters.\n   * Named parameters are passed by name (`params[name] = value`), unnamed\n   * parameters are passed by index (`params[index] = value`).\n   *\n   * @return {string}\n   */\n  urlForPath(path, params) {\n    return getPathnameForRouter(\n      Router.pathToRegexp.compile(path)(params),\n      this\n    );\n  }\n\n  /**\n   * Triggers navigation to a new path. Returns a boolean without waiting until\n   * the navigation is complete. Returns `true` if at least one `Router`\n   * has handled the navigation (was subscribed and had `baseUrl` matching\n   * the `path` argument), otherwise returns `false`.\n   *\n   * @param {!string|!{pathname: !string, search: (string|undefined), hash: (string|undefined)}} path\n   *   a new in-app path string, or an URL-like object with `pathname`\n   *   string property, and optional `search` and `hash` string properties.\n   * @return {boolean}\n   */\n  static go(path) {\n    const {pathname, search, hash} = isString(path)\n      ? this.__createUrl(path, 'http://a') // some base to omit origin\n      : path;\n    return fireRouterEvent('go', {pathname, search, hash});\n  }\n}\n\nconst DEV_MODE_CODE_REGEXP =\n  /\\/\\*\\*\\s+vaadin-dev-mode:start([\\s\\S]*)vaadin-dev-mode:end\\s+\\*\\*\\//i;\n\nconst FlowClients = window.Vaadin && window.Vaadin.Flow && window.Vaadin.Flow.clients;\n\nfunction isMinified() {\n  function test() {\n    /** vaadin-dev-mode:start\n    return false;\n    vaadin-dev-mode:end **/\n    return true;\n  }\n  return uncommentAndRun(test);\n}\n\nfunction isDevelopmentMode() {\n  try {\n    if (isForcedDevelopmentMode()) {\n      return true;\n    }\n\n    if (!isLocalhost()) {\n      return false;\n    }\n\n    if (FlowClients) {\n      return !isFlowProductionMode();\n    }\n\n    return !isMinified();\n  } catch (e) {\n    // Some error in this code, assume production so no further actions will be taken\n    return false;\n  }\n}\n\nfunction isForcedDevelopmentMode() {\n  return localStorage.getItem(\"vaadin.developmentmode.force\");\n}\n\nfunction isLocalhost() {\n  return ([\"localhost\",\"127.0.0.1\"].indexOf(window.location.hostname) >= 0);\n}\n\nfunction isFlowProductionMode() {\n  if (FlowClients) {\n    const productionModeApps = Object.keys(FlowClients)\n      .map(key => FlowClients[key])\n      .filter(client => client.productionMode);\n    if (productionModeApps.length > 0) {\n      return true;\n    }\n  }\n  return false;\n}\n\nfunction uncommentAndRun(callback, args) {\n  if (typeof callback !== 'function') {\n    return;\n  }\n\n  const match = DEV_MODE_CODE_REGEXP.exec(callback.toString());\n  if (match) {\n    try {\n      // requires CSP: script-src 'unsafe-eval'\n      callback = new Function(match[1]);\n    } catch (e) {\n      // eat the exception\n      console.log('vaadin-development-mode-detector: uncommentAndRun() failed', e);\n    }\n  }\n\n  return callback(args);\n}\n\n// A guard against polymer-modulizer removing the window.Vaadin\n// initialization above.\nwindow['Vaadin'] = window['Vaadin'] || {};\n\n/**\n * Inspects the source code of the given `callback` function for\n * specially-marked _commented_ code. If such commented code is found in the\n * callback source, uncomments and runs that code instead of the callback\n * itself. Otherwise runs the callback as is.\n *\n * The optional arguments are passed into the callback / uncommented code,\n * the result is returned.\n *\n * See the `isMinified()` function source code in this file for an example.\n *\n */\nconst runIfDevelopmentMode = function(callback, args) {\n  if (window.Vaadin.developmentMode) {\n    return uncommentAndRun(callback, args);\n  }\n};\n\nif (window.Vaadin.developmentMode === undefined) {\n  window.Vaadin.developmentMode = isDevelopmentMode();\n}\n\n/* This file is autogenerated from src/vaadin-usage-statistics.tpl.html */\n\nfunction maybeGatherAndSendStats() {\n  /** vaadin-dev-mode:start\n  (function () {\n'use strict';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\n\nvar classCallCheck = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\nvar createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar getPolymerVersion = function getPolymerVersion() {\n  return window.Polymer && window.Polymer.version;\n};\n\nvar StatisticsGatherer = function () {\n  function StatisticsGatherer(logger) {\n    classCallCheck(this, StatisticsGatherer);\n\n    this.now = new Date().getTime();\n    this.logger = logger;\n  }\n\n  createClass(StatisticsGatherer, [{\n    key: 'frameworkVersionDetectors',\n    value: function frameworkVersionDetectors() {\n      return {\n        'Flow': function Flow() {\n          if (window.Vaadin && window.Vaadin.Flow && window.Vaadin.Flow.clients) {\n            var flowVersions = Object.keys(window.Vaadin.Flow.clients).map(function (key) {\n              return window.Vaadin.Flow.clients[key];\n            }).filter(function (client) {\n              return client.getVersionInfo;\n            }).map(function (client) {\n              return client.getVersionInfo().flow;\n            });\n            if (flowVersions.length > 0) {\n              return flowVersions[0];\n            }\n          }\n        },\n        'Vaadin Framework': function VaadinFramework() {\n          if (window.vaadin && window.vaadin.clients) {\n            var frameworkVersions = Object.values(window.vaadin.clients).filter(function (client) {\n              return client.getVersionInfo;\n            }).map(function (client) {\n              return client.getVersionInfo().vaadinVersion;\n            });\n            if (frameworkVersions.length > 0) {\n              return frameworkVersions[0];\n            }\n          }\n        },\n        'AngularJs': function AngularJs() {\n          if (window.angular && window.angular.version && window.angular.version) {\n            return window.angular.version.full;\n          }\n        },\n        'Angular': function Angular() {\n          if (window.ng) {\n            var tags = document.querySelectorAll(\"[ng-version]\");\n            if (tags.length > 0) {\n              return tags[0].getAttribute(\"ng-version\");\n            }\n            return \"Unknown\";\n          }\n        },\n        'Backbone.js': function BackboneJs() {\n          if (window.Backbone) {\n            return window.Backbone.VERSION;\n          }\n        },\n        'React': function React() {\n          var reactSelector = '[data-reactroot], [data-reactid]';\n          if (!!document.querySelector(reactSelector)) {\n            // React does not publish the version by default\n            return \"unknown\";\n          }\n        },\n        'Ember': function Ember() {\n          if (window.Em && window.Em.VERSION) {\n            return window.Em.VERSION;\n          } else if (window.Ember && window.Ember.VERSION) {\n            return window.Ember.VERSION;\n          }\n        },\n        'jQuery': function (_jQuery) {\n          function jQuery() {\n            return _jQuery.apply(this, arguments);\n          }\n\n          jQuery.toString = function () {\n            return _jQuery.toString();\n          };\n\n          return jQuery;\n        }(function () {\n          if (typeof jQuery === 'function' && jQuery.prototype.jquery !== undefined) {\n            return jQuery.prototype.jquery;\n          }\n        }),\n        'Polymer': function Polymer() {\n          var version = getPolymerVersion();\n          if (version) {\n            return version;\n          }\n        },\n        'LitElement': function LitElement() {\n          var version = window.litElementVersions && window.litElementVersions[0];\n          if (version) {\n            return version;\n          }\n        },\n        'LitHtml': function LitHtml() {\n          var version = window.litHtmlVersions && window.litHtmlVersions[0];\n          if (version) {\n            return version;\n          }\n        },\n        'Vue.js': function VueJs() {\n          if (window.Vue) {\n            return window.Vue.version;\n          }\n        }\n      };\n    }\n  }, {\n    key: 'getUsedVaadinElements',\n    value: function getUsedVaadinElements(elements) {\n      var version = getPolymerVersion();\n      var elementClasses = void 0;\n      // NOTE: In case you edit the code here, YOU MUST UPDATE any statistics reporting code in Flow.\n      // Check all locations calling the method getEntries() in\n      // https://github.com/vaadin/flow/blob/master/flow-server/src/main/java/com/vaadin/flow/internal/UsageStatistics.java#L106\n      // Currently it is only used by BootstrapHandler.\n      if (version && version.indexOf('2') === 0) {\n        // Polymer 2: components classes are stored in window.Vaadin\n        elementClasses = Object.keys(window.Vaadin).map(function (c) {\n          return window.Vaadin[c];\n        }).filter(function (c) {\n          return c.is;\n        });\n      } else {\n        // Polymer 3: components classes are stored in window.Vaadin.registrations\n        elementClasses = window.Vaadin.registrations || [];\n      }\n      elementClasses.forEach(function (klass) {\n        var version = klass.version ? klass.version : \"0.0.0\";\n        elements[klass.is] = { version: version };\n      });\n    }\n  }, {\n    key: 'getUsedVaadinThemes',\n    value: function getUsedVaadinThemes(themes) {\n      ['Lumo', 'Material'].forEach(function (themeName) {\n        var theme;\n        var version = getPolymerVersion();\n        if (version && version.indexOf('2') === 0) {\n          // Polymer 2: themes are stored in window.Vaadin\n          theme = window.Vaadin[themeName];\n        } else {\n          // Polymer 3: themes are stored in custom element registry\n          theme = customElements.get('vaadin-' + themeName.toLowerCase() + '-styles');\n        }\n        if (theme && theme.version) {\n          themes[themeName] = { version: theme.version };\n        }\n      });\n    }\n  }, {\n    key: 'getFrameworks',\n    value: function getFrameworks(frameworks) {\n      var detectors = this.frameworkVersionDetectors();\n      Object.keys(detectors).forEach(function (framework) {\n        var detector = detectors[framework];\n        try {\n          var version = detector();\n          if (version) {\n            frameworks[framework] = { version: version };\n          }\n        } catch (e) {}\n      });\n    }\n  }, {\n    key: 'gather',\n    value: function gather(storage) {\n      var storedStats = storage.read();\n      var gatheredStats = {};\n      var types = [\"elements\", \"frameworks\", \"themes\"];\n\n      types.forEach(function (type) {\n        gatheredStats[type] = {};\n        if (!storedStats[type]) {\n          storedStats[type] = {};\n        }\n      });\n\n      var previousStats = JSON.stringify(storedStats);\n\n      this.getUsedVaadinElements(gatheredStats.elements);\n      this.getFrameworks(gatheredStats.frameworks);\n      this.getUsedVaadinThemes(gatheredStats.themes);\n\n      var now = this.now;\n      types.forEach(function (type) {\n        var keys = Object.keys(gatheredStats[type]);\n        keys.forEach(function (key) {\n          if (!storedStats[type][key] || _typeof(storedStats[type][key]) != _typeof({})) {\n            storedStats[type][key] = { firstUsed: now };\n          }\n          // Discards any previously logged version number\n          storedStats[type][key].version = gatheredStats[type][key].version;\n          storedStats[type][key].lastUsed = now;\n        });\n      });\n\n      var newStats = JSON.stringify(storedStats);\n      storage.write(newStats);\n      if (newStats != previousStats && Object.keys(storedStats).length > 0) {\n        this.logger.debug(\"New stats: \" + newStats);\n      }\n    }\n  }]);\n  return StatisticsGatherer;\n}();\n\nvar StatisticsStorage = function () {\n  function StatisticsStorage(key) {\n    classCallCheck(this, StatisticsStorage);\n\n    this.key = key;\n  }\n\n  createClass(StatisticsStorage, [{\n    key: 'read',\n    value: function read() {\n      var localStorageStatsString = localStorage.getItem(this.key);\n      try {\n        return JSON.parse(localStorageStatsString ? localStorageStatsString : '{}');\n      } catch (e) {\n        return {};\n      }\n    }\n  }, {\n    key: 'write',\n    value: function write(data) {\n      localStorage.setItem(this.key, data);\n    }\n  }, {\n    key: 'clear',\n    value: function clear() {\n      localStorage.removeItem(this.key);\n    }\n  }, {\n    key: 'isEmpty',\n    value: function isEmpty() {\n      var storedStats = this.read();\n      var empty = true;\n      Object.keys(storedStats).forEach(function (key) {\n        if (Object.keys(storedStats[key]).length > 0) {\n          empty = false;\n        }\n      });\n\n      return empty;\n    }\n  }]);\n  return StatisticsStorage;\n}();\n\nvar StatisticsSender = function () {\n  function StatisticsSender(url, logger) {\n    classCallCheck(this, StatisticsSender);\n\n    this.url = url;\n    this.logger = logger;\n  }\n\n  createClass(StatisticsSender, [{\n    key: 'send',\n    value: function send(data, errorHandler) {\n      var logger = this.logger;\n\n      if (navigator.onLine === false) {\n        logger.debug(\"Offline, can't send\");\n        errorHandler();\n        return;\n      }\n      logger.debug(\"Sending data to \" + this.url);\n\n      var req = new XMLHttpRequest();\n      req.withCredentials = true;\n      req.addEventListener(\"load\", function () {\n        // Stats sent, nothing more to do\n        logger.debug(\"Response: \" + req.responseText);\n      });\n      req.addEventListener(\"error\", function () {\n        logger.debug(\"Send failed\");\n        errorHandler();\n      });\n      req.addEventListener(\"abort\", function () {\n        logger.debug(\"Send aborted\");\n        errorHandler();\n      });\n      req.open(\"POST\", this.url);\n      req.setRequestHeader(\"Content-Type\", \"application/json\");\n      req.send(data);\n    }\n  }]);\n  return StatisticsSender;\n}();\n\nvar StatisticsLogger = function () {\n  function StatisticsLogger(id) {\n    classCallCheck(this, StatisticsLogger);\n\n    this.id = id;\n  }\n\n  createClass(StatisticsLogger, [{\n    key: '_isDebug',\n    value: function _isDebug() {\n      return localStorage.getItem(\"vaadin.\" + this.id + \".debug\");\n    }\n  }, {\n    key: 'debug',\n    value: function debug(msg) {\n      if (this._isDebug()) {\n        console.info(this.id + \": \" + msg);\n      }\n    }\n  }]);\n  return StatisticsLogger;\n}();\n\nvar UsageStatistics = function () {\n  function UsageStatistics() {\n    classCallCheck(this, UsageStatistics);\n\n    this.now = new Date();\n    this.timeNow = this.now.getTime();\n    this.gatherDelay = 10; // Delay between loading this file and gathering stats\n    this.initialDelay = 24 * 60 * 60;\n\n    this.logger = new StatisticsLogger(\"statistics\");\n    this.storage = new StatisticsStorage(\"vaadin.statistics.basket\");\n    this.gatherer = new StatisticsGatherer(this.logger);\n    this.sender = new StatisticsSender(\"https://tools.vaadin.com/usage-stats/submit\", this.logger);\n  }\n\n  createClass(UsageStatistics, [{\n    key: 'maybeGatherAndSend',\n    value: function maybeGatherAndSend() {\n      var _this = this;\n\n      if (localStorage.getItem(UsageStatistics.optOutKey)) {\n        return;\n      }\n      this.gatherer.gather(this.storage);\n      setTimeout(function () {\n        _this.maybeSend();\n      }, this.gatherDelay * 1000);\n    }\n  }, {\n    key: 'lottery',\n    value: function lottery() {\n      return true;\n    }\n  }, {\n    key: 'currentMonth',\n    value: function currentMonth() {\n      return this.now.getYear() * 12 + this.now.getMonth();\n    }\n  }, {\n    key: 'maybeSend',\n    value: function maybeSend() {\n      var firstUse = Number(localStorage.getItem(UsageStatistics.firstUseKey));\n      var monthProcessed = Number(localStorage.getItem(UsageStatistics.monthProcessedKey));\n\n      if (!firstUse) {\n        // Use a grace period to avoid interfering with tests, incognito mode etc\n        firstUse = this.timeNow;\n        localStorage.setItem(UsageStatistics.firstUseKey, firstUse);\n      }\n\n      if (this.timeNow < firstUse + this.initialDelay * 1000) {\n        this.logger.debug(\"No statistics will be sent until the initial delay of \" + this.initialDelay + \"s has passed\");\n        return;\n      }\n      if (this.currentMonth() <= monthProcessed) {\n        this.logger.debug(\"This month has already been processed\");\n        return;\n      }\n      localStorage.setItem(UsageStatistics.monthProcessedKey, this.currentMonth());\n      // Use random sampling\n      if (this.lottery()) {\n        this.logger.debug(\"Congratulations, we have a winner!\");\n      } else {\n        this.logger.debug(\"Sorry, no stats from you this time\");\n        return;\n      }\n\n      this.send();\n    }\n  }, {\n    key: 'send',\n    value: function send() {\n      // Ensure we have the latest data\n      this.gatherer.gather(this.storage);\n\n      // Read, send and clean up\n      var data = this.storage.read();\n      data[\"firstUse\"] = Number(localStorage.getItem(UsageStatistics.firstUseKey));\n      data[\"usageStatisticsVersion\"] = UsageStatistics.version;\n      var info = 'This request contains usage statistics gathered from the application running in development mode. \\n\\nStatistics gathering is automatically disabled and excluded from production builds.\\n\\nFor details and to opt-out, see https://github.com/vaadin/vaadin-usage-statistics.\\n\\n\\n\\n';\n      var self = this;\n      this.sender.send(info + JSON.stringify(data), function () {\n        // Revert the 'month processed' flag\n        localStorage.setItem(UsageStatistics.monthProcessedKey, self.currentMonth() - 1);\n      });\n    }\n  }], [{\n    key: 'version',\n    get: function get$1() {\n      return '2.1.0';\n    }\n  }, {\n    key: 'firstUseKey',\n    get: function get$1() {\n      return 'vaadin.statistics.firstuse';\n    }\n  }, {\n    key: 'monthProcessedKey',\n    get: function get$1() {\n      return 'vaadin.statistics.monthProcessed';\n    }\n  }, {\n    key: 'optOutKey',\n    get: function get$1() {\n      return 'vaadin.statistics.optout';\n    }\n  }]);\n  return UsageStatistics;\n}();\n\ntry {\n  window.Vaadin = window.Vaadin || {};\n  window.Vaadin.usageStatsChecker = window.Vaadin.usageStatsChecker || new UsageStatistics();\n  window.Vaadin.usageStatsChecker.maybeGatherAndSend();\n} catch (e) {\n  // Intentionally ignored as this is not a problem in the app being developed\n}\n\n}());\n\n  vaadin-dev-mode:end **/\n}\n\nconst usageStatistics = function() {\n  if (typeof runIfDevelopmentMode === 'function') {\n    return runIfDevelopmentMode(maybeGatherAndSendStats);\n  }\n};\n\nwindow.Vaadin = window.Vaadin || {};\nwindow.Vaadin.registrations = window.Vaadin.registrations || [];\n\nwindow.Vaadin.registrations.push({\n  is: '@vaadin/router',\n  version: '1.7.4',\n});\n\nusageStatistics();\n\nRouter.NavigationTrigger = {POPSTATE, CLICK};\n\nexport { Resolver, Router };\n//# sourceMappingURL=vaadin-router.js.map\n","try{self[\"workbox:window:6.5.1\"]&&_()}catch(n){}function n(n,t){return new Promise((function(r){var e=new MessageChannel;e.port1.onmessage=function(n){r(n.data)},n.postMessage(t,[e.port2])}))}function t(n,t){for(var r=0;r<t.length;r++){var e=t[r];e.enumerable=e.enumerable||!1,e.configurable=!0,\"value\"in e&&(e.writable=!0),Object.defineProperty(n,e.key,e)}}function r(n,t){(null==t||t>n.length)&&(t=n.length);for(var r=0,e=new Array(t);r<t;r++)e[r]=n[r];return e}function e(n,t){var e;if(\"undefined\"==typeof Symbol||null==n[Symbol.iterator]){if(Array.isArray(n)||(e=function(n,t){if(n){if(\"string\"==typeof n)return r(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);return\"Object\"===e&&n.constructor&&(e=n.constructor.name),\"Map\"===e||\"Set\"===e?Array.from(n):\"Arguments\"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?r(n,t):void 0}}(n))||t&&n&&\"number\"==typeof n.length){e&&(n=e);var i=0;return function(){return i>=n.length?{done:!0}:{done:!1,value:n[i++]}}}throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}return(e=n[Symbol.iterator]()).next.bind(e)}try{self[\"workbox:core:6.5.1\"]&&_()}catch(n){}var i=function(){var n=this;this.promise=new Promise((function(t,r){n.resolve=t,n.reject=r}))};function o(n,t){var r=location.href;return new URL(n,r).href===new URL(t,r).href}var u=function(n,t){this.type=n,Object.assign(this,t)};function a(n,t,r){return r?t?t(n):n:(n&&n.then||(n=Promise.resolve(n)),t?n.then(t):n)}function c(){}var f={type:\"SKIP_WAITING\"};function s(n,t){if(!t)return n&&n.then?n.then(c):Promise.resolve()}var v=function(r){var e,c;function v(n,t){var e,c;return void 0===t&&(t={}),(e=r.call(this)||this).nn={},e.tn=0,e.rn=new i,e.en=new i,e.on=new i,e.un=0,e.an=new Set,e.cn=function(){var n=e.fn,t=n.installing;e.tn>0||!o(t.scriptURL,e.sn.toString())||performance.now()>e.un+6e4?(e.vn=t,n.removeEventListener(\"updatefound\",e.cn)):(e.hn=t,e.an.add(t),e.rn.resolve(t)),++e.tn,t.addEventListener(\"statechange\",e.ln)},e.ln=function(n){var t=e.fn,r=n.target,i=r.state,o=r===e.vn,a={sw:r,isExternal:o,originalEvent:n};!o&&e.mn&&(a.isUpdate=!0),e.dispatchEvent(new u(i,a)),\"installed\"===i?e.wn=self.setTimeout((function(){\"installed\"===i&&t.waiting===r&&e.dispatchEvent(new u(\"waiting\",a))}),200):\"activating\"===i&&(clearTimeout(e.wn),o||e.en.resolve(r))},e.dn=function(n){var t=e.hn,r=t!==navigator.serviceWorker.controller;e.dispatchEvent(new u(\"controlling\",{isExternal:r,originalEvent:n,sw:t,isUpdate:e.mn})),r||e.on.resolve(t)},e.gn=(c=function(n){var t=n.data,r=n.ports,i=n.source;return a(e.getSW(),(function(){e.an.has(i)&&e.dispatchEvent(new u(\"message\",{data:t,originalEvent:n,ports:r,sw:i}))}))},function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];try{return Promise.resolve(c.apply(this,n))}catch(n){return Promise.reject(n)}}),e.sn=n,e.nn=t,navigator.serviceWorker.addEventListener(\"message\",e.gn),e}c=r,(e=v).prototype=Object.create(c.prototype),e.prototype.constructor=e,e.__proto__=c;var h,l,m,w=v.prototype;return w.register=function(n){var t=(void 0===n?{}:n).immediate,r=void 0!==t&&t;try{var e=this;return function(n,t){var r=n();if(r&&r.then)return r.then(t);return t(r)}((function(){if(!r&&\"complete\"!==document.readyState)return s(new Promise((function(n){return window.addEventListener(\"load\",n)})))}),(function(){return e.mn=Boolean(navigator.serviceWorker.controller),e.yn=e.pn(),a(e.bn(),(function(n){e.fn=n,e.yn&&(e.hn=e.yn,e.en.resolve(e.yn),e.on.resolve(e.yn),e.yn.addEventListener(\"statechange\",e.ln,{once:!0}));var t=e.fn.waiting;return t&&o(t.scriptURL,e.sn.toString())&&(e.hn=t,Promise.resolve().then((function(){e.dispatchEvent(new u(\"waiting\",{sw:t,wasWaitingBeforeRegister:!0}))})).then((function(){}))),e.hn&&(e.rn.resolve(e.hn),e.an.add(e.hn)),e.fn.addEventListener(\"updatefound\",e.cn),navigator.serviceWorker.addEventListener(\"controllerchange\",e.dn),e.fn}))}))}catch(n){return Promise.reject(n)}},w.update=function(){try{return this.fn?s(this.fn.update()):void 0}catch(n){return Promise.reject(n)}},w.getSW=function(){return void 0!==this.hn?Promise.resolve(this.hn):this.rn.promise},w.messageSW=function(t){try{return a(this.getSW(),(function(r){return n(r,t)}))}catch(n){return Promise.reject(n)}},w.messageSkipWaiting=function(){this.fn&&this.fn.waiting&&n(this.fn.waiting,f)},w.pn=function(){var n=navigator.serviceWorker.controller;return n&&o(n.scriptURL,this.sn.toString())?n:void 0},w.bn=function(){try{var n=this;return function(n,t){try{var r=n()}catch(n){return t(n)}if(r&&r.then)return r.then(void 0,t);return r}((function(){return a(navigator.serviceWorker.register(n.sn,n.nn),(function(t){return n.un=performance.now(),t}))}),(function(n){throw n}))}catch(n){return Promise.reject(n)}},h=v,(l=[{key:\"active\",get:function(){return this.en.promise}},{key:\"controlling\",get:function(){return this.on.promise}}])&&t(h.prototype,l),m&&t(h,m),v}(function(){function n(){this.Pn=new Map}var t=n.prototype;return t.addEventListener=function(n,t){this.Sn(n).add(t)},t.removeEventListener=function(n,t){this.Sn(n).delete(t)},t.dispatchEvent=function(n){n.target=this;for(var t,r=e(this.Sn(n.type));!(t=r()).done;){(0,t.value)(n)}},t.Sn=function(n){return this.Pn.has(n)||this.Pn.set(n,new Set),this.Pn.get(n)},n}());export{v as Workbox,u as WorkboxEvent,n as messageSW};\n//# sourceMappingURL=workbox-window.prod.es5.mjs.map\n","// src/client/build/register.ts\nimport { Workbox, messageSW } from \"workbox-window\";\nvar autoUpdateMode = \"true\";\nvar auto = autoUpdateMode === \"true\";\nfunction registerSW(options = {}) {\n  const {\n    immediate = false,\n    onNeedRefresh,\n    onOfflineReady,\n    onRegistered,\n    onRegisterError\n  } = options;\n  let wb;\n  let registration;\n  const updateServiceWorker = async (reloadPage = true) => {\n    if (!auto) {\n      if (reloadPage) {\n        wb == null ? void 0 : wb.addEventListener(\"controlling\", (event) => {\n          if (event.isUpdate)\n            window.location.reload();\n        });\n      }\n      if (registration && registration.waiting) {\n        await messageSW(registration.waiting, { type: \"SKIP_WAITING\" });\n      }\n    }\n  };\n  if (\"serviceWorker\" in navigator) {\n    wb = new Workbox(\"/interval-timer/sw.js\", { scope: \"/interval-timer/\", type: \"classic\" });\n    wb.addEventListener(\"activated\", (event) => {\n      if (event.isUpdate)\n        auto && window.location.reload();\n      else\n        onOfflineReady == null ? void 0 : onOfflineReady();\n    });\n    if (!auto) {\n      const showSkipWaitingPrompt = () => {\n        onNeedRefresh == null ? void 0 : onNeedRefresh();\n      };\n      wb.addEventListener(\"waiting\", showSkipWaitingPrompt);\n      wb.addEventListener(\"externalwaiting\", showSkipWaitingPrompt);\n    }\n    wb.register({ immediate }).then((r) => {\n      registration = r;\n      onRegistered == null ? void 0 : onRegistered(r);\n    }).catch((e) => {\n      onRegisterError == null ? void 0 : onRegisterError(e);\n    });\n  }\n  return updateServiceWorker;\n}\nexport {\n  registerSW\n};\n","const instanceOfAny = (object, constructors) => constructors.some((c) => object instanceof c);\n\nlet idbProxyableTypes;\nlet cursorAdvanceMethods;\n// This is a function to prevent it throwing up in node environments.\nfunction getIdbProxyableTypes() {\n    return (idbProxyableTypes ||\n        (idbProxyableTypes = [\n            IDBDatabase,\n            IDBObjectStore,\n            IDBIndex,\n            IDBCursor,\n            IDBTransaction,\n        ]));\n}\n// This is a function to prevent it throwing up in node environments.\nfunction getCursorAdvanceMethods() {\n    return (cursorAdvanceMethods ||\n        (cursorAdvanceMethods = [\n            IDBCursor.prototype.advance,\n            IDBCursor.prototype.continue,\n            IDBCursor.prototype.continuePrimaryKey,\n        ]));\n}\nconst cursorRequestMap = new WeakMap();\nconst transactionDoneMap = new WeakMap();\nconst transactionStoreNamesMap = new WeakMap();\nconst transformCache = new WeakMap();\nconst reverseTransformCache = new WeakMap();\nfunction promisifyRequest(request) {\n    const promise = new Promise((resolve, reject) => {\n        const unlisten = () => {\n            request.removeEventListener('success', success);\n            request.removeEventListener('error', error);\n        };\n        const success = () => {\n            resolve(wrap(request.result));\n            unlisten();\n        };\n        const error = () => {\n            reject(request.error);\n            unlisten();\n        };\n        request.addEventListener('success', success);\n        request.addEventListener('error', error);\n    });\n    promise\n        .then((value) => {\n        // Since cursoring reuses the IDBRequest (*sigh*), we cache it for later retrieval\n        // (see wrapFunction).\n        if (value instanceof IDBCursor) {\n            cursorRequestMap.set(value, request);\n        }\n        // Catching to avoid \"Uncaught Promise exceptions\"\n    })\n        .catch(() => { });\n    // This mapping exists in reverseTransformCache but doesn't doesn't exist in transformCache. This\n    // is because we create many promises from a single IDBRequest.\n    reverseTransformCache.set(promise, request);\n    return promise;\n}\nfunction cacheDonePromiseForTransaction(tx) {\n    // Early bail if we've already created a done promise for this transaction.\n    if (transactionDoneMap.has(tx))\n        return;\n    const done = new Promise((resolve, reject) => {\n        const unlisten = () => {\n            tx.removeEventListener('complete', complete);\n            tx.removeEventListener('error', error);\n            tx.removeEventListener('abort', error);\n        };\n        const complete = () => {\n            resolve();\n            unlisten();\n        };\n        const error = () => {\n            reject(tx.error || new DOMException('AbortError', 'AbortError'));\n            unlisten();\n        };\n        tx.addEventListener('complete', complete);\n        tx.addEventListener('error', error);\n        tx.addEventListener('abort', error);\n    });\n    // Cache it for later retrieval.\n    transactionDoneMap.set(tx, done);\n}\nlet idbProxyTraps = {\n    get(target, prop, receiver) {\n        if (target instanceof IDBTransaction) {\n            // Special handling for transaction.done.\n            if (prop === 'done')\n                return transactionDoneMap.get(target);\n            // Polyfill for objectStoreNames because of Edge.\n            if (prop === 'objectStoreNames') {\n                return target.objectStoreNames || transactionStoreNamesMap.get(target);\n            }\n            // Make tx.store return the only store in the transaction, or undefined if there are many.\n            if (prop === 'store') {\n                return receiver.objectStoreNames[1]\n                    ? undefined\n                    : receiver.objectStore(receiver.objectStoreNames[0]);\n            }\n        }\n        // Else transform whatever we get back.\n        return wrap(target[prop]);\n    },\n    set(target, prop, value) {\n        target[prop] = value;\n        return true;\n    },\n    has(target, prop) {\n        if (target instanceof IDBTransaction &&\n            (prop === 'done' || prop === 'store')) {\n            return true;\n        }\n        return prop in target;\n    },\n};\nfunction replaceTraps(callback) {\n    idbProxyTraps = callback(idbProxyTraps);\n}\nfunction wrapFunction(func) {\n    // Due to expected object equality (which is enforced by the caching in `wrap`), we\n    // only create one new func per func.\n    // Edge doesn't support objectStoreNames (booo), so we polyfill it here.\n    if (func === IDBDatabase.prototype.transaction &&\n        !('objectStoreNames' in IDBTransaction.prototype)) {\n        return function (storeNames, ...args) {\n            const tx = func.call(unwrap(this), storeNames, ...args);\n            transactionStoreNamesMap.set(tx, storeNames.sort ? storeNames.sort() : [storeNames]);\n            return wrap(tx);\n        };\n    }\n    // Cursor methods are special, as the behaviour is a little more different to standard IDB. In\n    // IDB, you advance the cursor and wait for a new 'success' on the IDBRequest that gave you the\n    // cursor. It's kinda like a promise that can resolve with many values. That doesn't make sense\n    // with real promises, so each advance methods returns a new promise for the cursor object, or\n    // undefined if the end of the cursor has been reached.\n    if (getCursorAdvanceMethods().includes(func)) {\n        return function (...args) {\n            // Calling the original function with the proxy as 'this' causes ILLEGAL INVOCATION, so we use\n            // the original object.\n            func.apply(unwrap(this), args);\n            return wrap(cursorRequestMap.get(this));\n        };\n    }\n    return function (...args) {\n        // Calling the original function with the proxy as 'this' causes ILLEGAL INVOCATION, so we use\n        // the original object.\n        return wrap(func.apply(unwrap(this), args));\n    };\n}\nfunction transformCachableValue(value) {\n    if (typeof value === 'function')\n        return wrapFunction(value);\n    // This doesn't return, it just creates a 'done' promise for the transaction,\n    // which is later returned for transaction.done (see idbObjectHandler).\n    if (value instanceof IDBTransaction)\n        cacheDonePromiseForTransaction(value);\n    if (instanceOfAny(value, getIdbProxyableTypes()))\n        return new Proxy(value, idbProxyTraps);\n    // Return the same value back if we're not going to transform it.\n    return value;\n}\nfunction wrap(value) {\n    // We sometimes generate multiple promises from a single IDBRequest (eg when cursoring), because\n    // IDB is weird and a single IDBRequest can yield many responses, so these can't be cached.\n    if (value instanceof IDBRequest)\n        return promisifyRequest(value);\n    // If we've already transformed this value before, reuse the transformed value.\n    // This is faster, but it also provides object equality.\n    if (transformCache.has(value))\n        return transformCache.get(value);\n    const newValue = transformCachableValue(value);\n    // Not all types are transformed.\n    // These may be primitive types, so they can't be WeakMap keys.\n    if (newValue !== value) {\n        transformCache.set(value, newValue);\n        reverseTransformCache.set(newValue, value);\n    }\n    return newValue;\n}\nconst unwrap = (value) => reverseTransformCache.get(value);\n\nexport { reverseTransformCache as a, instanceOfAny as i, replaceTraps as r, unwrap as u, wrap as w };\n","import { w as wrap, r as replaceTraps } from './wrap-idb-value.js';\nexport { u as unwrap, w as wrap } from './wrap-idb-value.js';\n\n/**\n * Open a database.\n *\n * @param name Name of the database.\n * @param version Schema version.\n * @param callbacks Additional callbacks.\n */\nfunction openDB(name, version, { blocked, upgrade, blocking, terminated } = {}) {\n    const request = indexedDB.open(name, version);\n    const openPromise = wrap(request);\n    if (upgrade) {\n        request.addEventListener('upgradeneeded', (event) => {\n            upgrade(wrap(request.result), event.oldVersion, event.newVersion, wrap(request.transaction));\n        });\n    }\n    if (blocked)\n        request.addEventListener('blocked', () => blocked());\n    openPromise\n        .then((db) => {\n        if (terminated)\n            db.addEventListener('close', () => terminated());\n        if (blocking)\n            db.addEventListener('versionchange', () => blocking());\n    })\n        .catch(() => { });\n    return openPromise;\n}\n/**\n * Delete a database.\n *\n * @param name Name of the database.\n */\nfunction deleteDB(name, { blocked } = {}) {\n    const request = indexedDB.deleteDatabase(name);\n    if (blocked)\n        request.addEventListener('blocked', () => blocked());\n    return wrap(request).then(() => undefined);\n}\n\nconst readMethods = ['get', 'getKey', 'getAll', 'getAllKeys', 'count'];\nconst writeMethods = ['put', 'add', 'delete', 'clear'];\nconst cachedMethods = new Map();\nfunction getMethod(target, prop) {\n    if (!(target instanceof IDBDatabase &&\n        !(prop in target) &&\n        typeof prop === 'string')) {\n        return;\n    }\n    if (cachedMethods.get(prop))\n        return cachedMethods.get(prop);\n    const targetFuncName = prop.replace(/FromIndex$/, '');\n    const useIndex = prop !== targetFuncName;\n    const isWrite = writeMethods.includes(targetFuncName);\n    if (\n    // Bail if the target doesn't exist on the target. Eg, getAll isn't in Edge.\n    !(targetFuncName in (useIndex ? IDBIndex : IDBObjectStore).prototype) ||\n        !(isWrite || readMethods.includes(targetFuncName))) {\n        return;\n    }\n    const method = async function (storeName, ...args) {\n        // isWrite ? 'readwrite' : undefined gzipps better, but fails in Edge :(\n        const tx = this.transaction(storeName, isWrite ? 'readwrite' : 'readonly');\n        let target = tx.store;\n        if (useIndex)\n            target = target.index(args.shift());\n        // Must reject if op rejects.\n        // If it's a write operation, must reject if tx.done rejects.\n        // Must reject with op rejection first.\n        // Must resolve with op value.\n        // Must handle both promises (no unhandled rejections)\n        return (await Promise.all([\n            target[targetFuncName](...args),\n            isWrite && tx.done,\n        ]))[0];\n    };\n    cachedMethods.set(prop, method);\n    return method;\n}\nreplaceTraps((oldTraps) => ({\n    ...oldTraps,\n    get: (target, prop, receiver) => getMethod(target, prop) || oldTraps.get(target, prop, receiver),\n    has: (target, prop) => !!getMethod(target, prop) || oldTraps.has(target, prop),\n}));\n\nexport { deleteDB, openDB };\n","import { IntervalTimer } from './timer';\nimport * as idb from 'idb';\nimport { IDBPDatabase } from 'idb';\n\nexport interface TimerService {\n    getAll(): Promise<IntervalTimer[]>;\n    save(timer: IntervalTimer): Promise<IntervalTimer>;\n    delete(timer: IntervalTimer): Promise<void>;\n}\n\nconst dbName = 'interval-timer';\nconst dbVersion = 1;\nconst storeName = 'timers';\n\nclass IDBTimerService implements TimerService {\n  private db: IDBPDatabase;\n\n  constructor(db: IDBPDatabase) {\n    this.db = db;\n  }\n\n  getAll(): Promise<IntervalTimer[]> {\n    return this.db.getAll(storeName);\n  }\n\n  async save(timer: IntervalTimer): Promise<IntervalTimer> {\n    const key = await this.db.put(storeName, timer);\n    return {\n      ...timer,\n      id: key as number\n    };\n  }\n\n  delete(timer: IntervalTimer | number): Promise<void> {\n    let id: number | undefined;\n    if (typeof timer === 'number') {\n      id = timer;\n    } else {\n      id = timer.id;\n    }\n    if (!id) {\n      throw new Error('Invalid timer ID');\n    }\n    return this.db.delete(storeName, id);\n  }\n}\n\nlet timerService: TimerService;\n\nexport async function timerServiceSingleton(): Promise<TimerService> {\n  if (!timerService) {\n    const db = await idb.openDB(dbName, dbVersion, {\n      upgrade(db, _oldVersion, newVersion, _transaction) {\n        if (newVersion === 1) {\n          db.createObjectStore(\n            storeName,\n            {\n              keyPath: 'id',\n              autoIncrement: true\n            }\n          );\n        }\n      },\n    });\n    timerService = new IDBTimerService(db);\n  }\n  return timerService;\n}","import { LitElement, css, html } from 'lit';\nimport { property, customElement } from 'lit/decorators.js';\nimport { IntervalTimer } from '../timer';\nimport { TimerService, timerServiceSingleton } from '../timer-service';\nimport { SelectTimerEvent } from '../select-timer-event';\n\n@customElement('app-home')\nexport class AppHome extends LitElement {\n\n  @property({ type: Array }) timers: IntervalTimer[] = [];\n  @property({ type: Number }) selectedTimer?: number;\n  @property({ type: Number }) editTimer?: number;\n  private timerService?: TimerService;\n\n  static get styles() {\n    return css`\n      main {\n        display: flex;\n        flex-direction: column;\n        height: 100%;\n      }\n\n      active-timer {\n        flex-grow: 1;\n      }\n    `;\n  }\n\n  constructor() {\n    super();\n    timerServiceSingleton()\n      .then(async timerService => {\n        this.timerService = timerService;\n        this.timers = await timerService.getAll();\n        if (!this.selectedTimer) {\n          this.selectedTimer = this.timers[0]?.id;\n        }\n      });\n  }\n\n  share() {\n    if ((navigator as any).share) {\n      (navigator as any).share({\n        title: 'PWABuilder pwa-starter',\n        text: 'Check out the PWABuilder pwa-starter!',\n        url: 'https://github.com/pwa-builder/pwa-starter',\n      });\n    }\n  }\n\n  private async closeEditor() {\n    this.editTimer = undefined;\n    this.timers = await this.timerService?.getAll() || [];\n    if (!this.selectedTimer) {\n      this.selectedTimer = this.timers[0]?.id;\n    }\n  }\n\n  render() {\n    let body;\n    const timer = this.timers.filter(t => t.id === this.selectedTimer)[0] || this.timers[0];\n    if (timer) {\n      body = html`\n        <active-timer .timer=${timer}></active-timer>\n      `;\n    } else {\n      body = html`\n        <p>Create a timer to begin</p>\n      `;\n    }\n\n    return html`\n      <main>\n        <app-header\n          .apptitle=${timer?.name}\n          .timers=${this.timers}\n          .selectedTimer=${this.selectedTimer}\n          @newtimer=${() => this.editTimer = -1}\n          @selecttimer=${(e: SelectTimerEvent) => this.selectedTimer = e.timerId}>\n          <fluent-button appearance=\"stealth\" slot=\"actions\" @click=${() => this.editTimer = timer.id}>Edit</fluent-button>\n        </app-header>\n        ${body}\n        <timer-form-dialog\n          ?visible=${this.editTimer !== undefined}\n          .timerService=${this.timerService}\n          .timer=${timer}\n          @close=${this.closeEditor}></timer-form-dialog>\n      </main>\n    `;\n  }\n}\n","export class IntervalTimer {\n  id?: number;\n  name: string;\n  description?: string;\n  warmUp = 300;\n  lowIntensity = 30;\n  highIntensity = 60;\n  rest = 60;\n  coolDown = 300;\n  sets = 6;\n  rounds = 2;\n\n  constructor(name: string) {\n    this.name = name;\n  }\n}\n\n\nexport enum Phase {\n  WARM_UP = 'Warm-Up',\n  LOW_INTENSITY = 'Low Intensity',\n  HIGH_INTENSITY = 'High Intensity',\n  REST = 'Rest',\n  COOLDOWN = 'Cooldown'\n}\n\nexport function className(phase: Phase) {\n  return phase.toLowerCase().replaceAll(/[^a-zA-Z]/g, '');\n}\n\nexport function durationString(n: number | undefined): string {\n  if (!n) return '00:00';\n  let remainder = n;\n  let s = '';\n  if (remainder > 60) {\n    const minutes = Math.floor(remainder / 60);\n    if (minutes < 10) {\n      s += '0';\n    }\n    s += minutes + ':';\n    remainder %= 60;\n  } else {\n    s += '00:';\n  }\n  if (remainder < 10) {\n    s += 0;\n  }\n  s += remainder;\n  return s;\n}\n\nexport function parseDuration(duration: string | undefined): number {\n  if (!duration) return 0;\n  const [minutes, seconds] = duration.split(':');\n  if (!seconds && !minutes) return 0;\n  if (!seconds) {\n    return Number.parseInt(minutes);\n  }\n  if (!minutes) {\n    return Number.parseInt(seconds);\n  }\n  return (Number.parseInt(minutes) * 60) + Number.parseInt(seconds);\n}","import { IntervalTimer, Phase } from './timer';\n\nexport class TimerState {\n  timer: IntervalTimer;\n  phase: Phase = Phase.WARM_UP;\n  timeRemaining: number;\n  set: number;\n  round: number;\n  private sounds: Map<Phase, HTMLAudioElement> = new Map([\n    [Phase.WARM_UP, new Audio('assets/audio/warm.mp3')],\n    [Phase.LOW_INTENSITY, new Audio('assets/audio/low.mp3')],\n    [Phase.HIGH_INTENSITY, new Audio('assets/audio/high.mp3')],\n    [Phase.REST, new Audio('assets/audio/rest.mp3')],\n    [Phase.COOLDOWN, new Audio('assets/audio/cool.mp3')],\n  ]);\n  private ticker?: NodeJS.Timer;\n  private callback: () => void;\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  private wakeLock?: any;\n\n  constructor(timer: IntervalTimer, callback?: () => void) {\n    this.timer = timer;\n    this.timeRemaining = this.timer.warmUp;\n    this.set = this.timer.sets;\n    this.round = this.timer.rounds;\n    this.callback = callback ?? (() => null);\n  }\n\n  active() {\n    return this.ticker !== undefined;\n  }\n\n  private playSound() {\n    this.sounds.get(this.phase)?.play();\n    if (navigator.vibrate) {\n      navigator.vibrate(200);\n    }\n  }\n\n  toggle() {\n    if (this.active()) {\n      const ticker = this.ticker;\n      if (ticker) {\n        clearInterval(ticker);\n      }\n      this.ticker = undefined;\n      this.unlockScreen();\n    } else {\n      this.ticker = setInterval(() => this.tick(), 1000);\n      this.lockScreen();\n    }\n    this.callback();\n  }\n\n  private lockScreen() {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    const locker = (navigator as any).wakeLock;\n    if (!locker) {\n      return;\n    }\n    try {\n      locker.request('screen')\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        .then((lock: any) => {\n          this.wakeLock = lock;\n          this.wakeLock.addEventListener('release', () => {\n            this.wakeLock = null;\n          });\n        }).catch((err: Error) => {\n          console.error('Failed to aquire wakelock', err);\n        });\n    } catch (err) {\n      console.error('Failed to aquire wakelock', err);\n    }\n  }\n\n  private unlockScreen() {\n    try {\n      this.wakeLock?.release();\n      this.wakeLock = null;\n    } catch (err) {\n      console.error('Failed to release wakelock', err);\n    }\n  }\n\n  private restartTicker() {\n    const ticker = this.ticker;\n    if (ticker) {\n      clearInterval(ticker);\n    }\n    this.ticker = setInterval(() => this.tick(), 1000);\n  }\n\n  private tick() {\n    this.timeRemaining = Math.max(0, this.timeRemaining - 1);\n    this.callback();\n    if (this.timeRemaining === 0) {\n      if (this.phase !== Phase.COOLDOWN) {\n        this.goForward();\n      } else {\n        this.toggle();\n      }\n    }\n  }\n\n  goBack() {\n    switch (this.phase) {\n      case Phase.WARM_UP:\n        this.timeRemaining = this.timer.warmUp;\n        break;\n      case Phase.LOW_INTENSITY:\n        if (this.set < this.timer.sets) {\n          this.phase = Phase.HIGH_INTENSITY;\n          this.timeRemaining = this.timer.highIntensity;\n          this.set++;\n        } else if (this.round < this.timer.rounds) {\n          this.phase = Phase.REST;\n          this.timeRemaining = this.timer.rest;\n          this.round++;\n          this.set = 1;\n        } else {\n          this.phase = Phase.WARM_UP;\n          this.timeRemaining = this.timer.warmUp;\n        }\n        break;\n      case Phase.HIGH_INTENSITY:\n        this.phase = Phase.LOW_INTENSITY;\n        this.timeRemaining = this.timer.lowIntensity;\n        break;\n      case Phase.REST:\n        this.phase = Phase.HIGH_INTENSITY;\n        this.timeRemaining = this.timer.highIntensity;\n        break;\n      case Phase.COOLDOWN:\n        this.phase = Phase.HIGH_INTENSITY;\n        this.timeRemaining = this.timer.highIntensity;\n        break;\n    }\n    if (this.active()) {\n      this.playSound();\n      this.restartTicker();\n    }\n    this.callback();\n  }\n\n  goForward() {\n    switch (this.phase) {\n      case Phase.WARM_UP:\n        this.phase = Phase.LOW_INTENSITY;\n        this.timeRemaining = this.timer.lowIntensity;\n        break;\n      case Phase.LOW_INTENSITY:\n        this.phase = Phase.HIGH_INTENSITY;\n        this.timeRemaining = this.timer.highIntensity;\n        break;\n      case Phase.HIGH_INTENSITY:\n        if (this.timer.sets > 1 && this.set > 1) {\n          this.phase = Phase.LOW_INTENSITY;\n          this.timeRemaining = this.timer.lowIntensity;\n          this.set--;\n        } else if (this.timer.rounds > 1 && this.round > 1) {\n          this.phase = Phase.REST;\n          this.timeRemaining = this.timer.rest;\n        } else {\n          this.phase = Phase.COOLDOWN;\n          this.timeRemaining = this.timer.coolDown;\n        }\n        break;\n      case Phase.REST:\n        this.phase = Phase.LOW_INTENSITY;\n        this.timeRemaining = this.timer.lowIntensity;\n        this.round--;\n        this.set = this.timer.sets;\n        break;\n      case Phase.COOLDOWN:\n        this.timeRemaining = 0;\n        break;\n    }\n    if (this.active()) {\n      this.playSound();\n      this.restartTicker();\n    }\n    this.callback();\n  }\n}","import { LitElement, css, html } from 'lit';\nimport { property, customElement } from 'lit/decorators.js';\nimport { durationString, IntervalTimer, className } from '../timer';\nimport { TimerState } from '../timer-state';\n\n@customElement('active-timer')\nexport class ActiveTimer extends LitElement {\n  @property({ type: Object }) timer!: IntervalTimer;\n  @property({ type: Object }) timerState!: TimerState;\n\n  static get styles() {\n    return css`\n      * {\n        user-select: none;\n      }\n\n      .timer {\n        display: flex;\n        flex-direction: column;\n        height: 100%;\n        justify-content: space-between;\n        transition: all 0.25s ease;\n        padding: 1em;\n        box-sizing: border-box\n      }\n\n      .main {\n        display: flex;\n        flex-direction: column;\n        justify-content: center;\n        align-items: center;\n        flex-grow: 1;\n      }\n\n      .timer.lowintensity {\n        background-color: var(--timer-background-red);\n      }\n\n      .timer.highintensity {\n        background-color: #0C5E0C;\n      }\n\n      .timer.rest {\n        background-color: #D2AD0F;\n      }\n\n      .timer.cooldown {\n        background-color: #005CA3;\n      }\n\n      p {\n        margin: 0;\n        padding: 0;\n      }\n\n      .time {\n        font-size: 5em;\n        font-family: Cascadia, \"Roboto Mono\", Menlo, monospace;\n      }\n\n      footer {\n        display: flex;\n        justify-content: space-between;\n      }\n    `;\n  }\n\n  constructor() {\n    super();\n    document.addEventListener('keyup', (event: KeyboardEvent) => {\n      if (event.target !== document.body) {\n        return;\n      }\n      switch (event.key) {\n        case 'ArrowRight':\n          this.goForward();\n          break;\n        case 'ArrowLeft':\n          this.goBack();\n          break;\n        case ' ':\n          this.toggleActiveState();\n          break;\n      }\n    });\n  }\n\n  updated() {\n    if (!this.timerState || this.timerState.timer.id !== this.timer.id) {\n      this.timerState = new TimerState(this.timer, () => this.requestUpdate());\n    }\n  }\n\n  toggleActiveState() {\n    this.timerState.toggle();\n  }\n\n  goBack() {\n    this.timerState.goBack();\n  }\n\n  goForward() {\n    this.timerState.goForward();\n  }\n\n  private toggleIcon() {\n    if (this.timerState.active()) {\n      return html`<pause-icon></pause-icon>`;\n    } else {\n      return html`<play-icon></play-icon>`;\n    }\n  }\n\n  render() {\n    if (!this.timerState) return;\n    return html`\n      <div class=\"timer ${className(this.timerState.phase)}\">\n        <div class=\"main\">\n          <p class=\"phase\">${this.timerState.phase}</p>\n          <p class=\"time\">${durationString(this.timerState.timeRemaining)}</p>\n          <div class=\"controls\">\n            <fluent-button appearance=\"stealth\" @click=${this.goBack}>\n              <back-icon></back-icon>\n            </fluent-button>\n            <fluent-button appearance=\"stealth\" @click=${this.toggleActiveState}>\n              ${this.toggleIcon()}\n            </fluent-button>\n            <fluent-button appearance=\"stealth\" @click=${this.goForward}>\n              <forward-icon></forward-icon>\n            </fluent-button>\n          </div>\n        </div>\n        <footer>\n          <labeled-counter label=\"Set\" .value=${this.timerState.set.toString()}></labeled-counter>\n          <labeled-counter label=\"Round\" .value=${this.timerState.round.toString()}></labeled-counter>\n        </footer>\n      </div>\n    `;\n  }\n}\n","import { LitElement, css, html } from 'lit';\nimport { property, customElement } from 'lit/decorators.js';\n\n@customElement('labeled-counter')\nexport class Counter extends LitElement {\n  @property({type: String}) label?: string;\n  @property({type: String}) value?: string;\n\n  static get styles() {\n    return css`\n      .label {\n        font-size: calc();\n        text-transform: uppercase;\n      }\n\n      .label, .value {\n        margin: 0;\n        padding: 0;\n        text-align: center;\n      }\n\n      .value {\n        font-size: 2em;\n        font-weight: bold;\n      }\n    `;\n  }\n\n  constructor() {\n    super();\n  }\n\n  render() {\n    return html`\n      <div class=\"counter\">\n        <p class=\"label\">${this.label}</p>\n        <p class=\"value\">${this.value}</p>\n      </div>\n    `;\n  }\n}\n","import { LitElement, css, html } from 'lit';\nimport { property, customElement } from 'lit/decorators.js';\nimport { IntervalTimer } from '../timer';\n\n@customElement('app-header')\nexport class AppHeader extends LitElement {\n  @property({ type: String }) apptitle?: string;\n  @property({ type: Array }) timers?: IntervalTimer[];\n  @property({ type: Number }) selectedTimer?: number;\n  @property({ type: Boolean }) showSidebar = false;\n\n  static get styles() {\n    return css`\n      * {\n        --neutral-fill-stealth-rest: rgba(255, 255, 255, 0);\n        --neutral-fill-stealth-hover: rgba(255, 255, 255, 0.2);\n        --neutral-fill-stealth-active: rgba(255, 255, 255, 0.4);\n        user-select: none;\n      }\n\n      header {\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n        background: var(--app-color-primary);\n        color: white;\n        height: 4em;\n        padding: 0 1em;\n      }\n\n      header h1 {\n        margin-top: 0;\n        margin-bottom: 0;\n        font-size: 20px;\n        font-weight: bold;\n      }\n\n      nav fluent-anchor {\n        margin-left: 10px;\n      }\n\n      #menu-button-block {\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n      }\n\n      #menu-button-block img {\n        display: block;\n      }\n\n      .spacer {\n        width: 1em;\n      }\n\n      @media(prefers-color-scheme: light) {\n        header {\n          color: black;\n        }\n\n        nav fluent-anchor::part(control) {\n          color: initial;\n        }\n      }\n    `;\n  }\n\n  toggleSidebar() {\n    this.showSidebar = !this.showSidebar;\n  }\n\n  closeSidebar() {\n    this.showSidebar = false;\n  }\n\n  constructor() {\n    super();\n  }\n\n  render() {\n    return html`\n      <header>\n        <div id=\"menu-button-block\">\n          <fluent-button appearance=\"stealth\" @click=\"${this.toggleSidebar}\">\n            <navigation-icon></navigation-icon>\n          </fluent-button>\n          <div class=\"spacer\"></div>\n          <h1>${this.apptitle || 'Trainterval'}</h1>\n        </div>\n        <slot name=\"actions\"></slot>\n      </header>\n      <app-sidebar\n        ?visible=\"${this.showSidebar}\"\n        .timers=${this.timers}\n        .selectedTimer=${this.selectedTimer}\n        @closesidebar=\"${this.closeSidebar}\"></app-sidebar>\n    `;\n  }\n}\n","import { css, html, LitElement } from 'lit';\nimport { customElement } from 'lit/decorators.js';\n\n// manually in-lining the svg until vite supports it\n@customElement('back-icon')\nexport class BackIcon extends LitElement {\n  static get styles() {\n    return css`\n      svg {\n        display: block;\n        color: var(--foreground-color);\n        height: 2em;\n        width: 2em;\n      }\n    `;\n  }\n  render() {\n    return html`\n      <svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" style=\"isolation:isolate\" viewBox=\"0 0 100 100\" width=\"100pt\" height=\"100pt\"><defs><clipPath id=\"_clipPath_hST7dVCHzucXN2usmbRVwXvGcw614fxw\"><rect width=\"100\" height=\"100\"/></clipPath></defs><g clip-path=\"url(#_clipPath_hST7dVCHzucXN2usmbRVwXvGcw614fxw)\"><path d=\" M 0 0 L 20 0 L 20 100 L 0 100 L 0 0 Z  M 100 100 L 20 60 L 20 40 L 100 0 L 100 100 Z \" fill-rule=\"evenodd\"/></g></svg>\n    `;\n  }\n}","import { css, html, LitElement } from 'lit';\nimport { customElement } from 'lit/decorators.js';\n\n// manually in-lining the svg until vite supports it\n@customElement('forward-icon')\nexport class ForwardIcon extends LitElement {\n  static get styles() {\n    return css`\n      svg {\n        display: block;\n        color: var(--foreground-color);\n        height: 2em;\n        width: 2em;\n      }\n    `;\n  }\n  render() {\n    return html`\n      <svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" style=\"isolation:isolate\" viewBox=\"0 0 100 100\" width=\"100pt\" height=\"100pt\"><defs><clipPath id=\"_clipPath_KOVDpZBFpo30t6zkDMhJtopDGxIcWA0l\"><rect width=\"100\" height=\"100\"/></clipPath></defs><g clip-path=\"url(#_clipPath_KOVDpZBFpo30t6zkDMhJtopDGxIcWA0l)\"><path d=\" M 80 0 L 100 0 L 100 100 L 80 100 L 80 0 Z  M 0 100 L 80 60 L 80 40 L 0 0 L 0 100 Z \" fill-rule=\"evenodd\"/></g></svg>\n    `;\n  }\n}","// @ts-ignore\nimport Navigation from '@fluentui/svg-icons/icons/navigation_20_regular.svg';\nimport { css, html, LitElement } from 'lit';\nimport { customElement } from 'lit/decorators.js';\n\n// manually in-lining the svg until vite supports it\n@customElement('navigation-icon')\nexport class NavigationIcon extends LitElement {\n  static get styles() {\n    return css`\n            svg {\n                display: block;\n                color: var(--foreground-color);\n            }\n        `;\n  }\n  render() {\n    return html`\n            <svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M2 4.5c0-.28.22-.5.5-.5h15a.5.5 0 010 1h-15a.5.5 0 01-.5-.5zm0 5c0-.28.22-.5.5-.5h15a.5.5 0 010 1h-15a.5.5 0 01-.5-.5zm.5 4.5a.5.5 0 000 1h15a.5.5 0 000-1h-15z\"/></svg>\n        `;\n  }\n}","import { css, html, LitElement } from 'lit';\nimport { customElement } from 'lit/decorators.js';\n\n// manually in-lining the svg until vite supports it\n@customElement('pause-icon')\nexport class PauseIcon extends LitElement {\n  static get styles() {\n    return css`\n      svg {\n        display: block;\n        color: var(--foreground-color);\n        height: 2em;\n        width: 2em;\n      }\n    `;\n  }\n  render() {\n    return html`\n      <svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" style=\"isolation:isolate\" viewBox=\"0 0 100 100\" width=\"100pt\" height=\"100pt\"><defs><clipPath id=\"_clipPath_gghKfkXt3RrkXOpdD3Nb2uh99Yv5EXhC\"><rect width=\"100\" height=\"100\"/></clipPath></defs><g clip-path=\"url(#_clipPath_gghKfkXt3RrkXOpdD3Nb2uh99Yv5EXhC)\"><rect x=\"67\" y=\"0\" width=\"33\" height=\"100\"\"/><rect x=\"0\" y=\"0\" width=\"33\" height=\"100\"/></g></svg>\n      `;\n  }\n}","import { css, html, LitElement } from 'lit';\nimport { customElement } from 'lit/decorators.js';\n\n// manually in-lining the svg until vite supports it\n@customElement('play-icon')\nexport class PlayIcon extends LitElement {\n  static get styles() {\n    return css`\n      svg {\n        display: block;\n        color: var(--foreground-color);\n        height: 2em;\n        width: 2em;\n      }\n    `;\n  }\n  render() {\n    return html`\n            <svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" style=\"isolation:isolate\" viewBox=\"0 0 100 100\" width=\"100pt\" height=\"100pt\"><defs><clipPath id=\"_clipPath_Vk8cYX7uFNrhKajyPVlEqY6YHDbpwGFw\"><rect width=\"100\" height=\"100\"/></clipPath></defs><g clip-path=\"url(#_clipPath_Vk8cYX7uFNrhKajyPVlEqY6YHDbpwGFw)\"><polygon points=\"100,50,0,100,0,0\"/></g></svg>\n        `;\n  }\n}","export default \"__VITE_ASSET__de820bdd__\"","export class SelectTimerEvent extends Event {\n  timerId: number;\n\n  constructor(timerId: number) {\n    super(\n      'selecttimer',\n      {\n        bubbles: true,\n        composed: true\n      }\n    );\n    this.timerId = timerId;\n  }\n}","import { LitElement, css, html } from 'lit';\nimport { property, customElement, query } from 'lit/decorators.js';\n// @ts-ignore\nimport Add from '@fluentui/svg-icons/icons/add_20_regular.svg';\nimport { IntervalTimer } from '../timer';\nimport { SelectTimerEvent } from '../select-timer-event';\n\n@customElement('app-sidebar')\nexport class AppSidebar extends LitElement {\n  @property({ type: Boolean }) visible = false;\n  @property({ type: Array }) timers?: IntervalTimer[] = [];\n  @property({ type: Number }) selectedTimer?: number;\n\n  static get styles() {\n    return css`\n      * {\n        transition: all 0.25s ease;\n      }\n\n      @media(prefers-color-scheme: light) {\n        header {\n          color: black;\n        }\n\n        nav fluent-anchor::part(control) {\n          color: initial;\n        }\n      }\n\n      .sidebar-content {\n        position: absolute;\n        width: 20em;\n        height: 100vh;\n        top: 0;\n        left: 0;\n        bottom: 0;\n        z-index: 999;\n        background: var(--background-color);\n        transform: translate3d(-100%, 0, 0);\n        display: flex;\n        flex-direction: column;\n      }\n\n      h3 {\n        margin: 0;\n        padding: 1em;\n      }\n\n      fluent-listbox {\n        flex-grow: 1;\n        border: none;\n      }\n\n      .visible .sidebar-content {\n        transform: translate3d(0, 0, 0);\n      }\n\n      .overlay {\n        position: absolute;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n        z-index: 998;\n        background: rgba(0, 0, 0, 0.6);\n        display: none;\n      }\n\n      .visible .overlay  {\n        display: block;\n      }\n\n      pwa-install {\n        position: relative;\n        box-sizing: border-box;\n        outline: none;\n        font-family: var(--body-font);\n        font-size: var(--type-ramp-base-font-size);\n        line-height: var(--type-ramp-base-line-height);\n        font-weight: initial;\n        font-variation-settings: var(--type-ramp-base-font-variations);\n        height: calc((var(--base-height-multiplier) + var(--density)) * var(--design-unit) * 1px);\n        min-width: calc((var(--base-height-multiplier) + var(--density)) * var(--design-unit) * 1px);\n        color: var(--neutral-foreground-rest);\n        border-radius: calc(var(--control-corner-radius) * 1px);\n        fill: currentcolor;\n        cursor: pointer;\n      }\n\n      pwa-install::part(openButton) {\n        background: var(--neutral-fill-stealth-rest);\n        border: calc(var(--stroke-width) * 1px) solid transparent;\n        flex-grow: 1;\n        box-sizing: border-box;\n        display: inline-flex;\n        justify-content: start;\n        align-items: center;\n        padding: 0 calc((10 + (var(--design-unit) * 2 * var(--density))) * 1px);\n        white-space: nowrap;\n        outline: none;\n        text-decoration: none;\n        color: inherit;\n        border-radius: inherit;\n        fill: inherit;\n        cursor: inherit;\n        font-family: inherit;\n        height: 100%;\n      }\n\n      pwa-install::part(openButton):hover {\n        background: var(--neutral-fill-stealth-hover);\n      }\n\n      fluent-button, pwa-install {\n        box-sizing: border-box;\n        height: 42px;\n        padding: 5px;\n      }\n\n      fluent-button, button, pwa-install::part(openButton) {\n        justify-content: start;\n        width: 100%;\n      }\n    `;\n  }\n\n  @query('fluent-button')\n    fButton?: HTMLElement;\n\n  constructor() {\n    super();\n    window.addEventListener('beforeinstallprompt', (event) => {\n      event.preventDefault();\n\n    });\n  }\n\n  updated() {\n    // Stupid hack to get the button to be left-aligned\n    const button: HTMLButtonElement | null | undefined = this.fButton?.shadowRoot?.querySelector('button');\n    if (button) {\n      button.setAttribute('style', 'justify-content: start;');\n    }\n  }\n\n  private toggleVisibility() {\n    this.dispatchEvent(new CustomEvent('closesidebar'));\n  }\n\n  private selectTimer(timerId: number) {\n    this.dispatchEvent(new SelectTimerEvent(timerId));\n    this.toggleVisibility();\n  }\n\n  private newTimer() {\n    this.dispatchEvent(new CustomEvent(\n      'newtimer',\n      {\n        bubbles: true,\n        composed: true\n      }\n    ));\n    this.toggleVisibility();\n  }\n\n  render() {\n    return html`\n      <div class=\"sidebar ${this.visible ? 'visible' : ''}\">\n        <div class=\"overlay\" @click=\"${this.toggleVisibility}\"></div>\n        <div class=\"sidebar-content\">\n          <h3>Trainterval</h3>\n          <fluent-listbox>\n            ${this.timers?.map(timer => {\n    return html`\n                  <fluent-option\n                    @click=${() => this.selectTimer(timer.id!)}\n                    selected=${timer.id === this.selectedTimer}\n                    value=${timer.name}>${timer.name}</fluent-option>\n                `;\n  })}\n          </fluent-listbox>\n          <fluent-divider></fluent-divider>\n          <fluent-button appearance=\"stealth\" @click=\"${this.newTimer}\">\n            <img slot=\"start\" src=\"${Add}\" aria-hidden=\"true\" />\n            New Timer\n          </fluent-button>\n      </div>\n    `;\n  }\n}\n","import { LitElement, css, html } from 'lit';\nimport { property, customElement, query } from 'lit/decorators.js';\nimport { durationString, IntervalTimer, parseDuration } from '../timer';\nimport { TimerService } from '../timer-service';\n\n@customElement('timer-form-dialog')\nexport class TimerFormDialog extends LitElement {\n  @property({ type: Boolean }) visible = false;\n  @property({ type: Boolean }) saving = false;\n  @property({ type: Object }) timer?: IntervalTimer;\n  @property({ type: Object }) timerService?: TimerService;\n  private durationPattern = '[0-5]?[0-9]+(:[0-5][0-9]){0,2}';\n\n  static get styles() {\n    return css`\n      .dialog {\n        display: flex;\n        box-sizing: border-box;\n        flex-direction: column;\n        max-height: var(--dialog-height);\n        max-width: var(--dialog-width);\n        padding: 1em;\n      }\n\n      h2 {\n        margin: 0;\n        user-select: none;\n      }\n\n      form {\n        display: flex;\n        flex-direction: column;\n        overflow-y: auto;\n        margin: 1em 0;\n\n      fluent-button {\n        margin: 1em 0;\n      }\n    `;\n  }\n\n  constructor() {\n    super();\n    document.addEventListener('keyup', (event: KeyboardEvent) => {\n      if (event.target !== document.body) {\n        return;\n      }\n      switch (event.key) {\n        case 'Escape':\n          this.toggleVisibility();\n          break;\n      }\n    });\n  }\n\n  @query('#timer-id')\n  timerId: HTMLInputElement | null | undefined;\n\n  @query('#timer-name')\n  timerName: HTMLInputElement | null | undefined;\n\n  @query('#timer-description')\n  timerDescription: HTMLInputElement | null | undefined;\n\n  @query('#timer-warmup')\n  timerWarmUp: HTMLInputElement | null | undefined;\n\n  @query('#timer-low')\n  timerLowIntensity: HTMLInputElement | null | undefined;\n\n  @query('#timer-hi')\n  timerHighIntensity: HTMLInputElement | null | undefined;\n\n  @query('#timer-rest')\n  timerRest: HTMLInputElement | null | undefined;\n\n  @query('#timer-cool')\n  timerCooldown: HTMLInputElement | null | undefined;\n\n  @query('#timer-sets')\n  timerSets: HTMLInputElement | null | undefined;\n\n  @query('#timer-rounds')\n  timerRounds: HTMLInputElement | null | undefined;\n\n  private toggleVisibility() {\n    this.dispatchEvent(new CustomEvent('close'));\n  }\n\n  private async save() {\n    let id: string | undefined = this.timerId?.value;\n    if (!id) {\n      id = undefined;\n    }\n    const name = this.timerName?.value;\n    if (!name) {\n      // TODO: Show errors in form\n      alert('Name is required');\n      return;\n    }\n    const timer = new IntervalTimer(name);\n    timer.id = this.timer?.id;\n    timer.description = this.timerDescription?.value;\n    timer.warmUp = parseDuration(this.timerWarmUp?.value);\n    timer.lowIntensity = parseDuration(this.timerLowIntensity?.value);\n    timer.highIntensity = parseDuration(this.timerHighIntensity?.value);\n    timer.rest = parseDuration(this.timerRest?.value);\n    timer.coolDown = parseDuration(this.timerCooldown?.value);\n    timer.sets = Number.parseInt(this.timerSets?.value || '0') || 1;\n    timer.rounds = Number.parseInt(this.timerRounds?.value || '0') || 1;\n    this.saving = true;\n    await this.timerService?.save(timer);\n    this.saving = false;\n    // TODO: Clear form\n    this.toggleVisibility();\n  }\n\n  render() {\n    let body;\n    if (this.saving) {\n\n    } else {\n      const title = this.timer?.id ? 'Edit Timer' : 'New Timer';\n      body = html`\n        <div class=\"dialog\">\n          <h2>${title}</h2>\n          <form @submit=${this.save}>\n            <input\n              id=\"timer-id\"\n              type=\"hidden\"\n              name=\"id\"\n              .value=${this.timer?.id?.toString() || ''} />\n            <fluent-text-field\n              id=\"timer-name\"\n              appearance=\"outline\"\n              placeholder=\"My Timer\"\n              .value=${this.timer?.name || ''}>Name</fluent-text-field>\n            <fluent-text-area\n              id=\"timer-description\"\n              appearance=\"outline\"\n              placeholder=\"More details\"\n              .value=${this.timer?.description || ''}>Description</fluent-text-area>\n            <fluent-text-field\n              id=\"timer-warmup\"\n              appearance=\"outline\"\n              placeholder=\"05:00\"\n              pattern=\"${this.durationPattern}\"\n              .value=${durationString(this.timer?.warmUp)}>Warm Up</fluent-text-field>\n              <fluent-text-field\n              id=\"timer-low\"\n              appearance=\"outline\"\n              placeholder=\"00:30\"\n              pattern=\"${this.durationPattern}\"\n              .value=${durationString(this.timer?.lowIntensity)}>Low Intensity</fluent-text-field>\n              <fluent-text-field\n              id=\"timer-hi\"\n              appearance=\"outline\"\n              placeholder=\"01:00\"\n              pattern=\"${this.durationPattern}\"\n              .value=${durationString(this.timer?.highIntensity)}>High Intensity</fluent-text-field>\n              <fluent-text-field\n              id=\"timer-rest\"\n              appearance=\"outline\"\n              placeholder=\"01:00\"\n              pattern=\"${this.durationPattern}\"\n              .value=${durationString(this.timer?.rest)}>Rest</fluent-text-field>\n              <fluent-text-field\n              id=\"timer-cool\"\n              appearance=\"outline\"\n              placeholder=\"05:00\"\n              pattern=\"${this.durationPattern}\"\n              .value=${durationString(this.timer?.coolDown)}>Cooldown</fluent-text-field>\n            <fluent-text-field\n              id=\"timer-sets\"\n              appearance=\"outline\"\n              placeholder=\"4\"\n              .value=${this.timer?.sets}>Sets</fluent-text-field>\n            <fluent-text-field\n              id=\"timer-rounds\"\n              appearance=\"outline\"\n              placeholder=\"2\"\n              .value=${this.timer?.rounds}>Rounds</fluent-text-field>\n          </form>\n          <fluent-button appearance=\"accent\" tabindex=\"0\" @click=${this.save}>Save</fluent-button>\n          <fluent-button appearance=\"outline\" tabindex=\"0\" @click=${this.toggleVisibility}>Cancel</fluent-button>\n        </div>\n      `;\n    }\n    return html`\n      <fluent-dialog ?hidden=${!this.visible} trap-focus modal>\n        ${body}\n      </fluent-dialog>\n    `;\n  }\n}\n","import { LitElement, css, html } from 'lit';\nimport { customElement } from 'lit/decorators.js';\nimport { Router } from '@vaadin/router';\nimport { registerSW } from 'virtual:pwa-register';\n\nimport './script/pages/app-home';\nimport './script/components/active-timer';\nimport './script/components/counter';\nimport './script/components/header';\nimport './script/components/icons/icon-back';\nimport './script/components/icons/icon-forward';\nimport './script/components/icons/icon-navigation';\nimport './script/components/icons/icon-pause';\nimport './script/components/icons/icon-play';\nimport './script/components/sidebar';\nimport './script/components/timer-form';\nimport './styles/global.css';\n\n@customElement('app-index')\nexport class AppIndex extends LitElement {\n  static get styles() {\n    return css`\n      main {\n        box-sizing: border-box;\n        height: 100%;\n      }\n\n      #routerOutlet {\n        height: 100%;\n      }\n\n      #routerOutlet > * {\n        width: 100% !important;\n        height: 100%;\n      }\n\n      #routerOutlet > .leaving {\n        animation: 160ms fadeOut ease-in-out;\n      }\n\n      #routerOutlet > .entering {\n        animation: 160ms fadeIn linear;\n      }\n\n      @keyframes fadeOut {\n        from {\n          opacity: 1;\n        }\n\n        to {\n          opacity: 0;\n        }\n      }\n\n      @keyframes fadeIn {\n        from {\n          opacity: 0.2;\n        }\n\n        to {\n          opacity: 1;\n        }\n      }\n    `;\n  }\n\n  constructor() {\n    super();\n  }\n\n  firstUpdated() {\n    // this method is a lifecycle even in lit\n    // for more info check out the lit docs https://lit.dev/docs/components/lifecycle/\n\n    // For more info on using the @vaadin/router check here https://vaadin.com/router\n    const router = new Router(this.shadowRoot?.querySelector('#routerOutlet'));\n    router.setRoutes([\n      // temporarily cast to any because of a Type bug with the router\n      {\n        path: (import.meta as any).env.BASE_URL,\n        animate: true,\n        children: [\n          { path: '', component: 'app-home' },\n        ],\n      } as any,\n    ]);\n    registerSW({ immediate: true });\n  }\n\n  render() {\n    return html`\n      <div style=\"height: 100%;\">\n        <main>\n          <div id=\"routerOutlet\"></div>\n        </main>\n      </div>\n    `;\n  }\n}\n"],"names":["p","relList","link","processPreload","mutations","mutation","node","getFetchOpts","script","fetchOpts","t","e","n","s","o","r","i","S","h","l","a","d","u","c","v","f","_","m","g","$","b","w","T","x","N","A","C","y","E","M","H","I","P","V","L","k","z","toArray","objectOrArray","log","msg","logValue","value","stringType","MODULE","NOMODULE","bundleKeys","ensureBundle","src","ensureRoute","route","isString","bundle","stringKeys","isFunction","isObject","key","overriddenProp","ensureRoutes","routes","loadScript","resolve","reject","loadBundle","fireRouterEvent","type","detail","getNotFoundError","context","error","notFoundResult","getAnchorOrigin","anchor","port","protocol","host","vaadinRouterGlobalClickHandler","event","path","target","pathname","search","hash","CLICK","isIE","inType","params","vaadinRouterGlobalPopstateHandler","POPSTATE","pathToRegexp_1","pathToRegexp","parse_1","parse","compile_1","compile","tokensToFunction_1","tokensToFunction","tokensToRegExp_1","tokensToRegExp","DEFAULT_DELIMITER","DEFAULT_DELIMITERS","PATH_REGEXP","str","options","tokens","index","defaultDelimiter","delimiters","pathEscaped","res","escaped","offset","prev","next","name","capture","group","modifier","partial","repeat","optional","delimiter","pattern","escapeGroup","escapeString","matches","data","encode","token","segment","j","flags","regexpToRegexp","keys","groups","arrayToRegexp","parts","stringToRegexp","strict","start","end","endsWith","isEndDelimited","hasOwnProperty","cache","decodeParam","val","matchPath","routepath","exact","parentKeys","parentParams","cacheKey","regexp","prop","matchRoute","ignoreLeadingSlash","match","childMatches","childIndex","routeToSkip","children","childRoute","matchedLength","childMatch","resolveRoute","isChildRoute","parentRoute","generateErrorMessage","currentContext","errorMessage","routePath","updateChainForRoute","item","Resolver","newRoutes","pathnameOrContext","nextMatches","resume","parent","prevResult","resolution","url","base","normalizedUrl","pathToRegexp$1","cache$1","cacheRoutes","routesByName","getRouteByName","routeName","getRoutePath","generateUrls","router","fullPath","rt","toPath","queryParams","query","triggers","setNavigationTriggers","newTriggers","trigger","willAnimate","elem","waitForAnimation","cb","listener","animate","className","rect","size","MAX_REDIRECT_COUNT","isResultNotEmpty","result","copyContextWithoutNext","copy","createLocation","chain","redirectFrom","resolver","userParams","getPathnameForRouter","Router","getMatchedPath","createRedirect","renderElement","element","runCallbackIfPossible","callback","args","thisArg","amend","amendmentFunction","amendmentResult","processNewChildren","newChildren","childRoutes","removeDomNodes","nodes","outlet","baseElement","baseHref","callbacks","commands","component","skipRender","shouldUpdateHistory","renderId","previousContext","animationDone","topOfTheChainContextBeforeRedirects","contextBeforeRedirects","contextAfterRedirects","topOfTheChainContextAfterRedirects","isFound","findNextContextIfAny","nextContext","contextWithFullChain","amendedContext","newContext","previousChain","newChain","prevent","redirect","chainElement","location","otherElement","redirectData","counter","replace","changeState","deepestCommonParent","unchangedElement","parentElement","elementToAdd","targetContext","currentComponent","from","to","promises","config","leave","enter","DEV_MODE_CODE_REGEXP","FlowClients","isMinified","test","uncommentAndRun","isDevelopmentMode","isForcedDevelopmentMode","isLocalhost","isFlowProductionMode","client","runIfDevelopmentMode","maybeGatherAndSendStats","usageStatistics","registerSW","immediate","onNeedRefresh","onOfflineReady","onRegistered","onRegisterError","wb","updateServiceWorker","reloadPage","Workbox","instanceOfAny","object","constructors","idbProxyableTypes","cursorAdvanceMethods","getIdbProxyableTypes","getCursorAdvanceMethods","cursorRequestMap","transactionDoneMap","transactionStoreNamesMap","transformCache","reverseTransformCache","promisifyRequest","request","promise","unlisten","success","wrap","cacheDonePromiseForTransaction","tx","done","complete","idbProxyTraps","receiver","replaceTraps","wrapFunction","func","storeNames","unwrap","transformCachableValue","newValue","openDB","version","blocked","upgrade","blocking","terminated","openPromise","db","readMethods","writeMethods","cachedMethods","getMethod","targetFuncName","useIndex","isWrite","method","storeName","oldTraps","dbName","dbVersion","IDBTimerService","timer","id","timerService","timerServiceSingleton","idb.openDB","_oldVersion","newVersion","_transaction","AppHome","LitElement","_a","css","_b","body","html","__decorateClass","property","customElement","IntervalTimer","Phase","phase","durationString","remainder","minutes","parseDuration","duration","seconds","TimerState","ticker","locker","lock","err","ActiveTimer","Counter","AppHeader","BackIcon","ForwardIcon","NavigationIcon","PauseIcon","PlayIcon","Add","SelectTimerEvent","timerId","AppSidebar","button","TimerFormDialog","_c","_d","_e","_f","_g","_h","_i","_j","_k","_l","title","AppIndex"],"mappings":"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"}